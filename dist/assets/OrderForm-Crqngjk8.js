import{r as b,B as pe,V as C,a as Oe,x as _t,m as H,d as ae,y as Ne,z as vt,A as jt,C as Nt,j as e,b as Te,n as wt,t as St,q as kt,D as Ct,v as At,g as Pt,i as It,o as Ot,E as Tt,f as Et,L as Ft,H as Dt}from"./index-BGh3CDNo.js";import{u as $t}from"./useGetCategories-BkJx5n-I.js";import{u as qt}from"./useGetPrice-C4h5yDhR.js";import{u as Lt}from"./useGetOrder-Dk2teTYE.js";import{u as Rt,c as Mt}from"./userSchema-aU2SErHl.js";import{u as Ut}from"./useGetuser-CqOCuX2z.js";const Bt=()=>{const[c,u]=b.useState(!1);return{loading:c,fetchProductsOnId:async x=>{const y=localStorage.getItem("authToken");u(!0);try{const l=await fetch(`${pe}/category/${x}/product`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`}}),h=await l.json();if(!l.ok){C.error(h.message,{position:"top-center"}),u(!1);return}return(h==null?void 0:h.data)||[]}catch(l){return C.error((l==null?void 0:l.message)||"Network error: Failed to fetch.",{position:"top-center"}),[]}finally{u(!1)}}}},Gt=()=>{const[c,u]=b.useState(!1);return{loading:c,fetchServicesOnId:async(x,y)=>{const l=localStorage.getItem("authToken");u(!0);try{const h=await fetch(`${pe}/category/${x}/product/${y}/service`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`}}),d=await h.json();if(!h.ok){C.error(d.message,{position:"top-center"}),u(!1);return}return(d==null?void 0:d.data)||[]}catch(h){return C.error((h==null?void 0:h.message)||"Network error: Failed to fetch.",{position:"top-center"}),[]}finally{u(!1)}}}},Kt="http://35.154.167.170:3000/admin/coupon/apply",zt=()=>{const[c,u]=b.useState(!1);return{applyCoupon:async(x,y,l)=>{const h=localStorage.getItem("authToken");u(!0);try{const d=await fetch(Kt,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},body:JSON.stringify({user_id:x,order_Total:y,coupon_code:l})}),m=await d.json();return d.ok?m.data:(C.error(m.message,{position:"top-center"}),!1)}catch{C.error("Unable to apply coupon code!")}finally{u(!1)}},loading:c}},Vt=()=>{const[c,u]=b.useState([]),[v,x]=b.useState(!1),y=async l=>{const h=localStorage.getItem("authToken");x(!0);try{const d=await fetch(`${pe}/admin/valid-coupons?${l}`,{method:"GET",headers:{Authorization:h?`Bearer ${h}`:""}}),m=await d.json();if(!d.ok){C.error(m.message,{position:"top-center"}),x(!1);return}u(m==null?void 0:m.data)}catch{C.error("Network error: Failed to fetch coupons.")}finally{x(!1)}};return b.useEffect(()=>{y()},[]),{validCoupons:c,fetchValidCoupons:y,loading:v}},Ht="http://35.154.167.170:3000",Wt=`${Ht}/admin/orders`,Jt=()=>{const[c,u]=b.useState(!1);return{addOrder:async x=>{const y=localStorage.getItem("authToken");u(!0);try{const l=await fetch(Wt,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify(x)});if(!l.ok){const d=await l.json();return C.error(d.message,{position:"top-center"}),!1}const h=await l.json();return C.success(h.message,{position:"top-center"}),!0}catch(l){return C.error((l==null?void 0:l.message)||"Network error: Failed to fetch.",{position:"top-center"}),!1}finally{u(!1)}},loading:c}},Qt=()=>{const[c,u]=b.useState(!1);return{updateOrder:async(x,y)=>{const l=localStorage.getItem("authToken"),h=`http://35.154.167.170:3000/admin/orders/${x}`;u(!0);try{const d=await fetch(h,{method:"PUT",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"},body:JSON.stringify(y)});if(d.ok){const P=await d.json();return C.success(P.message,{position:"top-center"}),!0}const m=await d.json();return C.error(m.message,{position:"top-center"}),!1}catch(d){return C.error((d==null?void 0:d.message)||"Network error: Failed to fetch.",{position:"top-center"}),!1}finally{u(!1)}},loading:c}},Xt=()=>{const[c,u]=b.useState([]),[v,x]=b.useState(!1);return{address:c,loading:v,fetchAddress:async l=>{var m;const h=localStorage.getItem("authToken"),d=`http://35.154.167.170:3000/address/${l}/user`;try{const P=await fetch(d,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`}});if(!P.ok){const j=await P.json();C.error(j.message,{position:"top-center"});return}const S=await P.json(),$=((m=S==null?void 0:S.data)==null?void 0:m.result)||[];u($)}catch(P){C.error((P==null?void 0:P.message)||"Network error: Failed to fetch.",{position:"top-center"})}finally{x(!1)}}}},Yt=Oe().shape({category_id:H().nullable().required("Please select a category").test("required","Please select a category",c=>!!c),product_id:H().nullable().required("Please select a product").test("required","Please select a product",c=>!!c),service_id:H().nullable().required("Please select a service").test("required","Please select a service",c=>!!c),price:H().nullable().when(["category_id","product_id","service_id"],([c,u,v],x)=>c&&u&&v?x.required("Price is not available for the combination, please add a price"):x.nullable())}),Zt=Oe().shape({username:ae().required("Please enter username"),address_id:H().required("Please select address").test("required","Please select address",c=>!!c),express_delivery_charges:H().typeError("Express delivery charges must be a number").min(0,"Express delivery charges must be a positive number"),shipping_charges:H().typeError("Shipping charge must be a number").min(0,"Shipping charge must be a positive number"),payment_type:H().required("Please choose payment type").test("required","Please choose payment type",c=>!!c),payment_status:H().required("Please choose payment status").test("required","Please choose payment status",c=>!!c),paid_amount:H().typeError("Paid amount must be a number").min(0,"Paid amount must be a positive number").test("max-paid","Paid amount cannot be greater than the total amount",function(c){var u;return c==null||c===0?!0:c<=((u=this.options.context)==null?void 0:u.total)}),branch_id:H().required("Please select branch").test("required","Please select branch",c=>!!c),items:_t().of(Yt)}),He=()=>{const[c,u]=b.useState(!1);return{addAddress:async(x,y=!0)=>{var h;const l=localStorage.getItem("authToken");u(!0);try{const d=await fetch(`${pe}/address/admin`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(x)}),m=await d.json();return d.ok?(y&&C.success(m.message,{position:"top-center"}),(h=m==null?void 0:m.data)==null?void 0:h.result):(y&&C.error(m.message,{position:"top-center"}),!1)}catch(d){return C.error((d==null?void 0:d.message)||"Error adding banner",{position:"top-center"}),!1}finally{u(!1)}},loading:c}},We=Oe().shape({pincode:ae().required("Pin Code is required").matches(/^[0-9]{6}$/,"Pincode must be 6 digit"),address_type:H().required("Address type is required"),building_number:ae().required("Building number is required"),area:ae().required("Area is required"),city:ae().required("City is required"),state:ae().required("State is required"),country:ae().required("Country is required"),landmark:ae().required("Landmark is required")});var X={},we={},Ie,Be;function es(){if(Be)return Ie;Be=1;var c="Expected a function",u=NaN,v="[object Symbol]",x=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,h=/^0o[0-7]+$/i,d=parseInt,m=typeof Ne=="object"&&Ne&&Ne.Object===Object&&Ne,P=typeof self=="object"&&self&&self.Object===Object&&self,S=m||P||Function("return this")(),$=Object.prototype,j=$.toString,T=Math.max,W=Math.min,w=function(){return S.Date.now()};function g(n,p,k){var E,R,Y,G,K,M,A=0,ge=!1,B=!1,oe=!0;if(typeof n!="function")throw new TypeError(c);p=_(p)||0,O(k)&&(ge=!!k.leading,B="maxWait"in k,Y=B?T(_(k.maxWait)||0,p):Y,oe="trailing"in k?!!k.trailing:oe);function de(F){var V=E,Z=R;return E=R=void 0,A=F,G=n.apply(Z,V),G}function ce(F){return A=F,K=setTimeout(re,p),ge?de(F):G}function Se(F){var V=F-M,Z=F-A,xe=p-V;return B?W(xe,Y-Z):xe}function he(F){var V=F-M,Z=F-A;return M===void 0||V>=p||V<0||B&&Z>=Y}function re(){var F=w();if(he(F))return te(F);K=setTimeout(re,Se(F))}function te(F){return K=void 0,oe&&E?de(F):(E=R=void 0,G)}function fe(){K!==void 0&&clearTimeout(K),A=0,E=M=R=K=void 0}function se(){return K===void 0?G:te(w())}function ne(){var F=w(),V=he(F);if(E=arguments,R=this,M=F,V){if(K===void 0)return ce(M);if(B)return K=setTimeout(re,p),de(M)}return K===void 0&&(K=setTimeout(re,p)),G}return ne.cancel=fe,ne.flush=se,ne}function O(n){var p=typeof n;return!!n&&(p=="object"||p=="function")}function s(n){return!!n&&typeof n=="object"}function r(n){return typeof n=="symbol"||s(n)&&j.call(n)==v}function _(n){if(typeof n=="number")return n;if(r(n))return u;if(O(n)){var p=typeof n.valueOf=="function"?n.valueOf():n;n=O(p)?p+"":p}if(typeof n!="string")return n===0?n:+n;n=n.replace(x,"");var k=l.test(n);return k||h.test(n)?d(n.slice(2),k?2:8):y.test(n)?u:+n}return Ie=g,Ie}var ue={},Ge;function ts(){return Ge||(Ge=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.compose=function(){for(var u=arguments.length,v=Array(u),x=0;x<u;x++)v[x]=arguments[x];return function(){for(var y=arguments.length,l=Array(y),h=0;h<y;h++)l[h]=arguments[h];v.forEach(function(d){return d&&d.apply(void 0,l)})}},ue.pick=function(u){for(var v=arguments.length,x=Array(v>1?v-1:0),y=1;y<v;y++)x[y-1]=arguments[y];return x.reduce(function(l,h){return u&&u.hasOwnProperty(h)&&(l[h]=u[h]),l},{})}),ue}var Ke;function ss(){if(Ke)return we;Ke=1,Object.defineProperty(we,"__esModule",{value:!0});var c=Object.assign||function(w){for(var g=1;g<arguments.length;g++){var O=arguments[g];for(var s in O)Object.prototype.hasOwnProperty.call(O,s)&&(w[s]=O[s])}return w},u=function(){function w(g,O){for(var s=0;s<O.length;s++){var r=O[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(g,r.key,r)}}return function(g,O,s){return O&&w(g.prototype,O),s&&w(g,s),g}}(),v=vt(),x=P(v),y=jt(),l=P(y),h=es(),d=P(h),m=ts();function P(w){return w&&w.__esModule?w:{default:w}}function S(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function $(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:w}function j(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}var T=function(g){return{mainText:g.main_text,secondaryText:g.secondary_text}},W=function(w){j(g,w);function g(O){S(this,g);var s=$(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,O));return s.init=function(){if(!window.google)throw new Error("[react-places-autocomplete]: Google Maps JavaScript API library must be loaded. See: https://github.com/kenny-hibino/react-places-autocomplete#load-google-library");if(!window.google.maps.places)throw new Error("[react-places-autocomplete]: Google Maps Places library must be loaded. Please add `libraries=places` to the src URL. See: https://github.com/kenny-hibino/react-places-autocomplete#load-google-library");s.autocompleteService=new window.google.maps.places.AutocompleteService,s.autocompleteOK=window.google.maps.places.PlacesServiceStatus.OK,s.setState(function(r){return r.ready?null:{ready:!0}})},s.autocompleteCallback=function(r,_){if(s.setState({loading:!1}),_!==s.autocompleteOK){s.props.onError(_,s.clearSuggestions);return}var n=s.props.highlightFirstSuggestion;s.setState({suggestions:r.map(function(p,k){return{id:p.id,description:p.description,placeId:p.place_id,active:!!(n&&k===0),index:k,formattedSuggestion:T(p.structured_formatting),matchedSubstrings:p.matched_substrings,terms:p.terms,types:p.types}})})},s.fetchPredictions=function(){var r=s.props.value;r.length&&(s.setState({loading:!0}),s.autocompleteService.getPlacePredictions(c({},s.props.searchOptions,{input:r}),s.autocompleteCallback))},s.clearSuggestions=function(){s.setState({suggestions:[]})},s.clearActive=function(){s.setState({suggestions:s.state.suggestions.map(function(r){return c({},r,{active:!1})})})},s.handleSelect=function(r,_,n){s.clearSuggestions(),s.props.onSelect?s.props.onSelect(r,_,n):s.props.onChange(r)},s.getActiveSuggestion=function(){return s.state.suggestions.find(function(r){return r.active})},s.selectActiveAtIndex=function(r){var _=s.state.suggestions.find(function(n){return n.index===r}).description;s.setActiveAtIndex(r),s.props.onChange(_)},s.selectUserInputValue=function(){s.clearActive(),s.props.onChange(s.state.userInputValue)},s.handleEnterKey=function(){var r=s.getActiveSuggestion();r===void 0?s.handleSelect(s.props.value,null,null):s.handleSelect(r.description,r.placeId,r)},s.handleDownKey=function(){if(s.state.suggestions.length!==0){var r=s.getActiveSuggestion();r===void 0?s.selectActiveAtIndex(0):r.index===s.state.suggestions.length-1?s.selectUserInputValue():s.selectActiveAtIndex(r.index+1)}},s.handleUpKey=function(){if(s.state.suggestions.length!==0){var r=s.getActiveSuggestion();r===void 0?s.selectActiveAtIndex(s.state.suggestions.length-1):r.index===0?s.selectUserInputValue():s.selectActiveAtIndex(r.index-1)}},s.handleInputKeyDown=function(r){switch(r.key){case"Enter":r.preventDefault(),s.handleEnterKey();break;case"ArrowDown":r.preventDefault(),s.handleDownKey();break;case"ArrowUp":r.preventDefault(),s.handleUpKey();break;case"Escape":s.clearSuggestions();break}},s.setActiveAtIndex=function(r){s.setState({suggestions:s.state.suggestions.map(function(_,n){return n===r?c({},_,{active:!0}):c({},_,{active:!1})})})},s.handleInputChange=function(r){var _=r.target.value;if(s.props.onChange(_),s.setState({userInputValue:_}),!_){s.clearSuggestions();return}s.props.shouldFetchSuggestions&&s.debouncedFetchPredictions()},s.handleInputOnBlur=function(){s.mousedownOnSuggestion||s.clearSuggestions()},s.getActiveSuggestionId=function(){var r=s.getActiveSuggestion();return r?"PlacesAutocomplete__suggestion-"+r.placeId:void 0},s.getIsExpanded=function(){return s.state.suggestions.length>0},s.getInputProps=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(r.hasOwnProperty("value"))throw new Error("[react-places-autocomplete]: getInputProps does not accept `value`. Use `value` prop instead");if(r.hasOwnProperty("onChange"))throw new Error("[react-places-autocomplete]: getInputProps does not accept `onChange`. Use `onChange` prop instead");var _={type:"text",autoComplete:"off",role:"combobox","aria-autocomplete":"list","aria-expanded":s.getIsExpanded(),"aria-activedescendant":s.getActiveSuggestionId(),disabled:!s.state.ready};return c({},_,r,{onKeyDown:(0,m.compose)(s.handleInputKeyDown,r.onKeyDown),onBlur:(0,m.compose)(s.handleInputOnBlur,r.onBlur),value:s.props.value,onChange:function(p){s.handleInputChange(p)}})},s.getSuggestionItemProps=function(r){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=s.handleSuggestionMouseEnter.bind(s,r.index),p=s.handleSuggestionClick.bind(s,r);return c({},_,{key:r.id,id:s.getActiveSuggestionId(),role:"option",onMouseEnter:(0,m.compose)(n,_.onMouseEnter),onMouseLeave:(0,m.compose)(s.handleSuggestionMouseLeave,_.onMouseLeave),onMouseDown:(0,m.compose)(s.handleSuggestionMouseDown,_.onMouseDown),onMouseUp:(0,m.compose)(s.handleSuggestionMouseUp,_.onMouseUp),onTouchStart:(0,m.compose)(s.handleSuggestionTouchStart,_.onTouchStart),onTouchEnd:(0,m.compose)(s.handleSuggestionMouseUp,_.onTouchEnd),onClick:(0,m.compose)(p,_.onClick)})},s.handleSuggestionMouseEnter=function(r){s.setActiveAtIndex(r)},s.handleSuggestionMouseLeave=function(){s.mousedownOnSuggestion=!1,s.clearActive()},s.handleSuggestionMouseDown=function(r){r.preventDefault(),s.mousedownOnSuggestion=!0},s.handleSuggestionTouchStart=function(){s.mousedownOnSuggestion=!0},s.handleSuggestionMouseUp=function(){s.mousedownOnSuggestion=!1},s.handleSuggestionClick=function(r,_){_&&_.preventDefault&&_.preventDefault();var n=r.description,p=r.placeId;s.handleSelect(n,p,r),setTimeout(function(){s.mousedownOnSuggestion=!1})},s.state={loading:!1,suggestions:[],userInputValue:O.value,ready:!O.googleCallbackName},s.debouncedFetchPredictions=(0,d.default)(s.fetchPredictions,O.debounce),s}return u(g,[{key:"componentDidMount",value:function(){var s=this.props.googleCallbackName;if(s){var r=window.google&&window.google.maps&&window.google.maps.places;r?this.init():window[s]=this.init}else this.init()}},{key:"componentWillUnmount",value:function(){var s=this.props.googleCallbackName;s&&window[s]&&delete window[s]}},{key:"render",value:function(){return this.props.children({getInputProps:this.getInputProps,getSuggestionItemProps:this.getSuggestionItemProps,loading:this.state.loading,suggestions:this.state.suggestions})}}]),g}(x.default.Component);return W.propTypes={onChange:l.default.func.isRequired,value:l.default.string.isRequired,children:l.default.func.isRequired,onError:l.default.func,onSelect:l.default.func,searchOptions:l.default.shape({bounds:l.default.object,componentRestrictions:l.default.object,location:l.default.object,offset:l.default.oneOfType([l.default.number,l.default.string]),radius:l.default.oneOfType([l.default.number,l.default.string]),types:l.default.array}),debounce:l.default.number,highlightFirstSuggestion:l.default.bool,shouldFetchSuggestions:l.default.bool,googleCallbackName:l.default.string},W.defaultProps={onError:function(g,O){return console.error(`[react-places-autocomplete]: error happened when fetching data from Google Maps API.
Please check the docs here (https://developers.google.com/maps/documentation/javascript/places#place_details_responses)
Status: `,g)},searchOptions:{},debounce:200,highlightFirstSuggestion:!1,shouldFetchSuggestions:!0},we.default=W,we}var ie={},ze;function as(){return ze||(ze=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.geocodeByAddress=function(u){var v=new window.google.maps.Geocoder,x=window.google.maps.GeocoderStatus.OK;return new Promise(function(y,l){v.geocode({address:u},function(h,d){d!==x&&l(d),y(h)})})},ie.getLatLng=function(u){return new Promise(function(v,x){try{var y={lat:u.geometry.location.lat(),lng:u.geometry.location.lng()};v(y)}catch(l){x(l)}})},ie.geocodeByPlaceId=function(u){var v=new window.google.maps.Geocoder,x=window.google.maps.GeocoderStatus.OK;return new Promise(function(y,l){v.geocode({placeId:u},function(h,d){d!==x&&l(d),y(h)})})}),ie}var Ve;function rs(){if(Ve)return X;Ve=1,Object.defineProperty(X,"__esModule",{value:!0}),X.getLatLng=X.geocodeByPlaceId=X.geocodeByAddress=void 0;var c=ss(),u=x(c),v=as();function x(y){return y&&y.__esModule?y:{default:y}}return X.geocodeByAddress=v.geocodeByAddress,X.geocodeByPlaceId=v.geocodeByPlaceId,X.getLatLng=v.getLatLng,X.default=u.default,X}var me=rs();const Je=Nt(me),ns=({isOpen:c,onClose:u,userId:v,setIsSubmit:x,onAddressAdded:y,fullname:l})=>{const{addAddress:h,loading:d}=He(),[m,P]=b.useState({}),[S,$]=b.useState(!1),[j,T]=b.useState({building_number:"",area:"",lat:null,long:null,landmark:"",pincode:"",city:"",state:"",country:"",user_id:null,address_type:null,full_name:""}),[W,w]=b.useState(!1);b.useEffect(()=>{c?v&&T(r=>({...r,user_id:v,full_name:l})):(T({building_number:"",area:"",landmark:"",pincode:"",city:"",lat:null,long:null,state:"",country:"",user_id:null,address_type:null,full_name:""}),P({}))},[c,v]);const g=r=>{T({...j,area:r}),w(!0)},O=async r=>{T({...j,area:r});try{const _=await me.geocodeByAddress(r),n=await me.getLatLng(_[0]);n&&T(p=>({...p,lat:n==null?void 0:n.lat,long:n==null?void 0:n.lng}))}catch{C.error("Failed to fetch address detail",{className:"toast-error"})}},s=async r=>{r.preventDefault();try{if(await We.validate(j,{abortEarly:!1}),v){const _=await h(j);_&&(y(_),u(),x(!0))}}catch(_){if(_ instanceof Te){const n={};_.inner.forEach(p=>{n[p.path||""]=p.message}),P(n)}else C.error("Failed to submit the form. Please try again.")}};if(c)return e.jsxs("div",{className:"fixed inset-0 grid overflow-auto items-center justify-center z-50 p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black opacity-50",onClick:u}),e.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-lg max-w-lg smobile:min-w-[85%] z-10 relative",children:[e.jsx("button",{className:"btn btn-sm btn-icon btn-light btn-outline absolute top-0 right-0 mr-5 mt-5 lg:mr-5 shadow-default",onClick:u,children:e.jsx("i",{className:"ki-filled ki-cross"})}),e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Add New Address"}),e.jsxs("form",{onSubmit:s,children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"country",className:"block text-gray-700 font-semibold",children:"Address Type"}),e.jsxs("select",{className:"select select-lg text-sm",onChange:r=>T({...j,address_type:Number(r.target.value)}),children:[e.jsx("option",{value:"",selected:!0,disabled:!0,className:"badge-danger badge-outline",children:"Select Address Type"}),e.jsx("option",{value:"1",children:"Home"}),e.jsx("option",{value:"2",children:"Office"}),e.jsx("option",{value:"3",children:"Other"})]}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:m.address_type||" "})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"building_number",className:"block text-gray-700 font-semibold",children:"Building Number"}),e.jsx("input",{type:"text",id:"building_number",name:"building_number",autoComplete:"off",value:j.building_number,onChange:r=>T({...j,building_number:r.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:m.building_number||" "})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"area",className:"block text-gray-700 font-semibold",children:"Area"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"relative",children:e.jsx(Je,{value:j.area,onChange:g,onSelect:O,children:({getInputProps:r,suggestions:_,getSuggestionItemProps:n,loading:p})=>e.jsxs(e.Fragment,{children:[e.jsx("input",{...r({className:"w-full input border border-gray-300 rounded-md p-2",id:"area",type:"text",onFocus:()=>w(!0),onBlur:()=>w(!1)})}),W&&_.length>0&&e.jsx("div",{className:"absolute bg-white border z-10 border-gray-200 rounded-lg w-full text-sm max-h-[150px] overflow-y-auto",children:e.jsxs("ul",{className:"custom-ul",children:[p&&e.jsx("li",{className:"block px-4 py-[0.8rem] hover:bg-gray-100 w-full",children:"Loading..."}),!p&&_.map((k,E)=>{const{...R}=n(k);return e.jsx("li",{...R,className:"block px-2 py-[0.8rem] hover:bg-gray-100 w-full cursor-pointer font-style",children:k==null?void 0:k.description},E)})]})})]})})}),m.area&&e.jsx("p",{className:"w-full text-red-500 text-sm",children:m.area||" "})||S&&e.jsx("p",{className:"aam-error-label",children:"please select valid area from dropdown"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"landmark",className:"block text-gray-700 font-semibold",children:"Landmark"}),e.jsx("input",{type:"text",id:"landmark",name:"landmark",autoComplete:"off",value:j.landmark,onChange:r=>T({...j,landmark:r.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:m.landmark||" "})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pincode",className:"block text-gray-700 font-semibold",children:"Pin code"}),e.jsx("input",{type:"text",id:"pincode",name:"pincode",autoComplete:"off",value:j.pincode,onChange:r=>T({...j,pincode:r.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:m.pincode||" "})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"city",className:"block text-gray-700 font-semibold",children:"City"}),e.jsx("input",{type:"text",id:"city",name:"city",autoComplete:"off",value:j.city,onChange:r=>T({...j,city:r.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:m.city||" "})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"state",className:"block text-gray-700 font-semibold",children:"State"}),e.jsx("input",{type:"text",id:"state",name:"state",autoComplete:"off",value:j.state,onChange:r=>T({...j,state:r.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:m.state||" "})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"country",className:"block text-gray-700 font-semibold",children:"Country"}),e.jsx("input",{type:"text",id:"country",name:"country",autoComplete:"off",value:j.country,onChange:r=>T({...j,country:r.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:m.country||" "})]})]}),e.jsxs("div",{className:"flex justify-end mt-6",children:[e.jsx("button",{type:"button",onClick:u,className:"btn btn-light mr-2",disabled:d,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:d,className:`btn btn-primary ${d?"opacity-50 cursor-not-allowed":""}`,children:d?"Submitting...":"Submit"})]})]})]})]})},os=({isOpen:c,onClose:u,setIsSubmit:v,onCustomerCreated:x})=>{const{addUser:y,loading:l}=Rt(),{addAddress:h,loading:d}=He(),[m,P]=b.useState({first_name:"",last_name:"",email:"",mobile_number:"",gender:null,role_id:5}),[S,$]=b.useState({building_number:"",area:"",landmark:"",pincode:"",city:"",state:"",country:"",user_id:null,full_name:"",address_type:null}),[j,T]=b.useState({}),[W,w]=b.useState(!1),[g,O]=b.useState(!1);b.useEffect(()=>{c||(P({first_name:"",last_name:"",email:"",mobile_number:"",gender:null,role_id:5}),$({building_number:"",area:"",landmark:"",pincode:"",city:"",state:"",country:"",user_id:null,full_name:"",address_type:null}),T({}))},[c]);const s=n=>{$({...S,area:n}),O(!0)},r=async n=>{$({...S,area:n});try{const p=await me.geocodeByAddress(n),k=await me.getLatLng(p[0]);k&&$(E=>({...E,lat:k==null?void 0:k.lat,long:k==null?void 0:k.lng}))}catch{C.error("Failed to fetch address detail",{className:"toast-error"})}},_=async n=>{n.preventDefault();try{await Mt().validate(m,{abortEarly:!1}),await We.validate(S,{abortEarly:!1});const p=await y(m);if(p!=null&&p.user_id){const k={...S,user_id:p.user_id,full_name:`${p.first_name} ${p.last_name}`},E=await h(k,!1);E&&(x(p,E),u(),v(!0))}}catch(p){if(p instanceof Te){const k={};p.inner.forEach(E=>{k[E.path||""]=E.message}),T(k)}else C.error("Failed to submit the form. Please try again.")}};return c?e.jsxs("div",{className:"fixed inset-0 grid overflow-auto items-center justify-center z-50 p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black opacity-50",onClick:u}),e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-5xl w-full smobile:min-w-[85%] z-10 relative",children:[e.jsx("button",{className:"btn btn-sm btn-icon btn-light btn-outline absolute top-0 right-0 mr-5 mt-5 lg:mr-5 shadow-default",onClick:u,children:e.jsx("i",{className:"ki-filled ki-cross"})}),e.jsxs("form",{children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Customer Info"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-1",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first_name",className:"block text-gray-700 font-semibold",children:"First name"}),e.jsx("input",{type:"text",id:"first_name",name:"first_name",autoComplete:"off",value:m.first_name||"",onChange:n=>P({...m,first_name:n.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"text-red-500 text-sm",children:j.first_name||" "})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last_name",className:"block text-gray-700 font-semibold",children:"Last name"}),e.jsx("input",{type:"text",id:"last_name",name:"last_name",autoComplete:"off",value:m.last_name,onChange:n=>P({...m,last_name:n.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"text-red-500 text-sm",children:j.last_name||" "})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-gray-700 font-semibold",children:"Email"}),e.jsx("input",{type:"text",id:"email",name:"email",autoComplete:"off",value:m.email,onChange:n=>P({...m,email:n.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"text-red-500 text-sm",children:j.email||" "})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"mobile_number",className:"block text-gray-700 font-semibold",children:"Mobile Number"}),e.jsx("input",{type:"text",id:"mobile_number",name:"mobile_number",autoComplete:"off",value:m.mobile_number,onChange:n=>P({...m,mobile_number:n.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"text-red-500 text-sm",children:j.mobile_number||" "})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"mb-2 block text-gray-700 font-semibold",children:"Gender"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:"gender",value:1,checked:m.gender===1,onChange:n=>P({...m,gender:parseInt(n.target.value)}),className:"radio radio-primary"}),e.jsx("span",{className:"text-sm",children:"Male"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:"gender",value:2,checked:m.gender===2,onChange:n=>P({...m,gender:parseInt(n.target.value)}),className:"radio radio-primary"}),e.jsx("span",{className:"text-sm",children:"Female"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:"gender",value:3,checked:m.gender===3,onChange:n=>P({...m,gender:parseInt(n.target.value)}),className:"radio radio-primary"}),e.jsx("span",{className:"text-sm",children:"Other"})]})]}),e.jsx("p",{className:"text-red-500 text-sm",children:j.gender||" "})]})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Address"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-1",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"country",className:"block text-gray-700 font-semibold",children:"Address Type"}),e.jsxs("select",{className:"select select-lg text-sm w-full p-2 border border-gray-300 rounded-md",onChange:n=>$({...S,address_type:Number(n.target.value)}),children:[e.jsx("option",{value:"",selected:!0,disabled:!0,className:"badge-danger badge-outline",children:"Select Address Type"}),e.jsx("option",{value:"1",children:"Home"}),e.jsx("option",{value:"2",children:"Office"}),e.jsx("option",{value:"3",children:"Other"})]}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:j.address_type||" "})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"building_number",className:"block text-gray-700 font-semibold",children:"Building Number"}),e.jsx("input",{type:"text",id:"building_number",name:"building_number",autoComplete:"off",value:S.building_number,onChange:n=>$({...S,building_number:n.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:j.building_number||" "})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"area",className:"block text-gray-700 font-semibold",children:"Area"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"relative",children:e.jsx(Je,{value:S.area,onChange:s,onSelect:r,children:({getInputProps:n,suggestions:p,getSuggestionItemProps:k,loading:E})=>e.jsxs(e.Fragment,{children:[e.jsx("input",{...n({className:"w-full input border border-gray-300 rounded-md p-2",id:"area",type:"text",onFocus:()=>O(!0),onBlur:()=>O(!1)})}),g&&p.length>0&&e.jsx("div",{className:"absolute bg-white border z-10 border-gray-200 rounded-lg w-full text-sm max-h-[150px] overflow-y-auto",children:e.jsxs("ul",{className:"custom-ul",children:[E&&e.jsx("li",{className:"block px-4 py-[0.8rem] hover:bg-gray-100 w-full",children:"Loading..."}),!E&&p.map((R,Y)=>{const{...G}=k(R);return e.jsx("li",{...G,className:"block px-2 py-[0.8rem] hover:bg-gray-100 w-full cursor-pointer font-style",children:R==null?void 0:R.description},Y)})]})})]})})}),j.area&&e.jsx("p",{className:"w-full text-red-500 text-sm",children:j.area||" "})||W&&e.jsx("p",{className:"aam-error-label",children:"please select valid area from dropdown"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"landmark",className:"block text-gray-700 font-semibold",children:"Landmark"}),e.jsx("input",{type:"text",id:"landmark",name:"landmark",autoComplete:"off",value:S.landmark,onChange:n=>$({...S,landmark:n.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:j.landmark||" "})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pincode",className:"block text-gray-700 font-semibold",children:"Pin code"}),e.jsx("input",{type:"text",id:"pincode",name:"pincode",autoComplete:"off",value:S.pincode,onChange:n=>$({...S,pincode:n.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:j.pincode||" "})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"city",className:"block text-gray-700 font-semibold",children:"City"}),e.jsx("input",{type:"text",id:"city",name:"city",autoComplete:"off",value:S.city,onChange:n=>$({...S,city:n.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:j.city||" "})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"state",className:"block text-gray-700 font-semibold",children:"State"}),e.jsx("input",{type:"text",id:"state",name:"state",autoComplete:"off",value:S.state,onChange:n=>$({...S,state:n.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:j.state||" "})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"country",className:"block text-gray-700 font-semibold",children:"Country"}),e.jsx("input",{type:"text",id:"country",name:"country",autoComplete:"off",value:S.country,onChange:n=>$({...S,country:n.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:j.country||" "})]})]})]})]}),e.jsxs("div",{className:"flex justify-end mt-6",children:[e.jsx("button",{type:"button",onClick:u,className:"btn btn-light mr-2",disabled:l||d,children:"Cancel"}),e.jsx("button",{type:"button",onClick:_,disabled:l||d,className:`btn btn-primary ${l||d?"opacity-50 cursor-not-allowed":""}`,children:l||d?"Submitting...":"Submit"})]})]})]})]}):null},ls=()=>{const[c,u]=b.useState(null),[v,x]=b.useState(!0),y=async()=>{const l=localStorage.getItem("authToken");if(!l){C.error("Authentication token not found!"),x(!1);return}try{const h=await fetch(`${pe}/admin/settings`,{method:"GET",headers:{Authorization:`Bearer ${l}`}}),d=await h.json();if(!h.ok){C.error((d==null?void 0:d.message)||"Failed to fetch settings",{position:"top-center"});return}u((d==null?void 0:d.data)||{})}catch{C.error("Network Error: Failed to fetch settings")}finally{x(!1)}};return b.useEffect(()=>{y()},[]),{settings:c,loading:v}},gs=()=>{var qe;const{prices:c}=qt(),{categories:u,loading:v}=$t(),{fetchProductsOnId:x,loading:y}=Bt(),{fetchServicesOnId:l,loading:h}=Gt(),[d,m]=b.useState(""),[P,S]=b.useState(!0),{id:$}=wt(),{updateOrder:j,loading:T}=Qt(),{addOrder:W,loading:w}=Jt(),g=Number($),O=1e3,s=1,[r,_]=b.useState(!1),[n,p]=b.useState(!1),[k,E]=b.useState(!1),{users:R,fetchUsersByRole:Y}=St(),{validCoupons:G,fetchValidCoupons:K}=Vt(),{branches:M}=kt(s,O),{order:A,fetchOrder:ge}=Lt(),{address:B,fetchAddress:oe}=Xt(),{applyCoupon:de}=zt(),{userData:ce,fetchUser:Se}=Ut(),{generatePaymentLink:he,loading:re}=Ct(),{settings:te,loading:fe}=ls(),se=ce==null?void 0:ce.user,ne=At(),F=((qe=ne==null?void 0:ne.state)==null?void 0:qe.prevUrl)||"/orders",V=b.useRef(null),[Z,xe]=b.useState({}),[ke,Qe]=b.useState({}),Ce=b.useRef(null),[Ee,Fe]=b.useState(!1),[De,Ae]=b.useState(null),be=Pt(t=>t==null?void 0:t.user),ye=It(),[a,I]=b.useState({coupon_code:"",coupon_discount:null,express_delivery_charges:null,express_delivery_hour:null,normal_delivery_charges:null,delivery_by:2,payment_type:1,payment_status:null,sub_total:0,paid_amount:null,kasar_amount:null,transaction_id:"",address_id:null,username:"",user_id:null,items:[{category_id:null,product_id:null,service_id:null,product_name:"",service_name:"",description:null,price:null,quantity:1,item_Total:null,showDescription:!1}],total:0,branch_id:null,order_status:null,gstin:""}),[Xe,Ye]=b.useState({coupon_code:"",coupon_discount:null,express_delivery_charges:null,express_delivery_hour:null,normal_delivery_charges:null,delivery_by:null,payment_type:null,payment_status:null,sub_total:0,paid_amount:null,kasar_amount:null,transaction_id:"",address_id:null,username:"",user_id:null,items:[{category_id:null,product_id:null,service_id:null,product_name:"",service_name:"",description:null,price:null,quantity:1,item_Total:null,showDescription:!1}],total:0,branch_id:null,order_status:null,gstin:""}),[U,Ze]=b.useState({});b.useEffect(()=>{const t=o=>{Ce.current&&!Ce.current.contains(o.target)&&V.current&&!V.current.contains(o.target)&&(S(!1),Fe(!1))};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[]),b.useEffect(()=>{(async()=>{await ge(g)})()},[g]),b.useEffect(()=>{var t;if(M&&M.length)if((t=be==null?void 0:be.user_branch)!=null&&t.length){const o=M.find(i=>i.branch_id===be.user_branch[0]);o?I(i=>({...i,branch_id:o.branch_id})):C("This branch manager has no brancher")}else I(o=>({...o,branch_id:M[0].branch_id}))},[M]),b.useEffect(()=>{if(B!=null&&B.length){const t=B.find(o=>o.is_default)||B[0];I(o=>({...o,address_id:t?t.address_id:null}))}},[B]),b.useEffect(()=>{(async()=>{a.user_id&&(await oe(a.user_id),await K(a.user_id),await Se(a.user_id)),k&&(await oe(a.user_id),E(!1))})()},[a.user_id,k]),b.useEffect(()=>{g||I(t=>({...t,payment_status:a.payment_type===1?1:null}))},[a.payment_type]),b.useEffect(()=>{(async()=>{Ee&&(!d||d.trim()==="")?(S(!0),await Y(5)):d&&P&&await Y(5,d)})()},[Ee,d,P]),b.useEffect(()=>{if(A){const t=`${A.user.first_name} ${A.user.last_name}`;m(t),S(!1);const o={coupon_code:A.coupon_code||"",coupon_discount:A.coupon_discount||null,express_delivery_charges:A.express_delivery_charges||null,express_delivery_hour:A.express_delivery_hour||null,normal_delivery_charges:A.normal_delivery_charges||null,payment_type:A.payment_type||null,payment_status:A.payment_status||null,sub_total:A.sub_total||0,paid_amount:A.paid_amount||null,kasar_amount:A.kasar_amount||null,transaction_id:A.transaction_id||"",address_id:A.address_id,username:t,user_id:A.user_id||null,items:A.items.map(i=>{var Q,le,_e,L;const N=i.category.category_id,f=((Q=i.product)==null?void 0:Q.product_id)||null,D=((le=i.service)==null?void 0:le.service_id)||null,q=((_e=i.product)==null?void 0:_e.name)||"",z=((L=i.service)==null?void 0:L.name)||"";return{category_id:N,product_id:f,service_id:D,product_name:q,service_name:z,description:i.description||null,price:i.price,quantity:i.quantity,item_Total:i.price*i.quantity,showDescription:!!i.description}}),total:(A.sub_total||0)+(A.express_delivery_charges||0)+(A.normal_delivery_charges||0),branch_id:A.branch_id,order_status:A.order_status,gstin:A.gstin,delivery_by:A.delivery_by};I(o),Ye(o)}},[A]),b.useEffect(()=>{const t=(a.paid_amount||0)+(a.kasar_amount||0),o=a.total-t;let i=a.payment_status;a.total>0&&t===a.total?(i=2,Ae(0)):t>0&&t<a.total?(i=3,Ae(o)):t===0&&a.total>0&&(i=1,Ae(o)),I(N=>({...N,payment_status:i}))},[a.paid_amount,a.kasar_amount,a.total]);const et=async t=>{t.preventDefault();try{const o=a.items.map(q=>({category_id:Number(q.category_id),product_id:Number(q.product_id),service_id:Number(q.service_id),description:q.description,price:Number(q.price),quantity:Number(q.quantity)})),i={...a,address_id:Number(a.address_id),coupon_discount:Number(a.coupon_discount),normal_delivery_charges:Number(a.normal_delivery_charges),kasar_amount:Number(a.kasar_amount),paid_amount:Number(a.paid_amount),express_delivery_charges:Number(a.express_delivery_charges),payment_type:Number(a.payment_type),payment_status:Number(a.payment_status),order_status:g?a.order_status:4,items:o},N=a.total;if(await Zt.validate(i,{abortEarly:!1,context:{total:N}}),!Object.keys(a).some(q=>a[q]!==Xe[q])){ye(`${F}`);return}let D;A?D=await j(g,i):D=await W(i),D&&ye(`${F}`)}catch(o){if(o instanceof Te){const i={};o.inner.forEach(N=>{i[N.path||""]=N.message}),Ze(i)}else C.error("Failed to submit the form. Please try again.")}},tt=t=>{t.target.value===""&&I(o=>({...o,address_id:null})),m(t.target.value),S(!0)},st=t=>{const o=`${t.first_name} ${t.last_name}`;m(o),S(!1),I({...a,username:o,user_id:t.user_id})},at=()=>{ye(`${F}`)},rt=()=>{I(t=>({...t,items:[...t.items,{category_id:null,product_id:null,product_name:"",service_id:null,service_name:"",description:null,price:null,quantity:1,item_Total:null,showDescription:!1}]}))},nt=t=>{I(o=>{const i=o.items.filter((q,z)=>z!==t),N={...o,items:i,coupon_code:"",coupon_discount:0},f=Pe(N),D=f+Number(a.express_delivery_charges||0)+Number(a.normal_delivery_charges||0);return{...N,sub_total:f,total:D}})},J=async(t,o,i)=>{["category_id","product_id","service_id","price","quantity"].includes(o)&&I(N=>({...N,coupon_code:"",coupon_discount:0})),I(N=>{const f=N.items.map((le,_e)=>{if(_e===t){const L={...le,[o]:i};o==="showDescription"&&(L.showDescription=i);const Le=Number(L.category_id),Re=Number(L.product_id),Me=Number(L.service_id),Ue=Number(L.quantity)||1;if(o==="category_id"){const ee=Number(i);Z[ee]||x(ee).then(ve=>{xe(je=>({...je,[ee]:ve}))}),L.product_id=null,L.service_id=null}if(o==="product_id"){const ee=Number(le.category_id),ve=Number(i),je=`${ee}_${ve}`;ke[je]||l(ee,ve).then(bt=>{Qe(yt=>({...yt,[je]:bt}))}),L.service_id=null}if(["category_id","product_id","service_id"].includes(o))if(Le&&Re&&Me){const ee=ot(Le,Re,Me);L.price=ee,L.item_Total=ee*Ue}else L.price=null,L.item_Total=null;else o==="price"?L.item_Total=i*Ue:o==="quantity"&&(L.item_Total=L.price*Number(i));return L}return le}),D={...N,items:f},z=Pe(D)-N.coupon_discount,Q=z+Number(N.express_delivery_charges||0)+Number(N.normal_delivery_charges||0);return{...D,sub_total:z,total:Q}})},ot=(t,o,i)=>{const N=`${t}_${o}_${i}`;return c[N]||0},lt=async t=>{const o=Pe(a),i=await de(a.user_id,o,t),N=Number(i.finalTotal||0)+Number(a.express_delivery_charges||0)+Number(a.normal_delivery_charges||0);if(i&&I(f=>({...f,coupon_code:t,coupon_discount:i.discountAmount,sub_total:i.finalTotal,total:N})),a.express_delivery_hour){const f=`express_delivery_${a.express_delivery_hour}hrs`,D=te[f],q=Number(D)/100;if(isNaN(q)){C.error("Invalid delivery charge percentage!");return}I(z=>{const Q=Math.floor(z.sub_total*q);return{...z,express_delivery_charges:Q,total:z.sub_total+Q}})}},Pe=t=>t.items.reduce((o,i)=>o+(i.item_Total||0),0),$e=(t,o)=>{I(i=>{const N={...i,[t]:o},f=Number(N.sub_total||0)+Number(N.express_delivery_charges||0)+Number(N.normal_delivery_charges||0);return{...N,total:f}})},it=t=>{const o=t.target.value;I(i=>({...i,address_id:Number(o)}))},dt=t=>{t.preventDefault(),a.user_id?_(!0):C.error("Please select the user to add address")},ct=t=>{t.preventDefault(),p(!0)},ut=()=>{ye(`/order/${g}`)},mt=async()=>{const t=[];if(a.total||t.push("item total"),a.username||t.push("customer name"),t.length>0){C.error(`Please add required fields: ${t.join(", ")}`);return}const o={amount:a.total,currency:"INR",user_id:a.user_id,customer:{name:a.username,contact:se==null?void 0:se.mobile_number,email:se==null?void 0:se.email}};await he(o)},pt=(t,o)=>{if(t){const i=`${t.first_name} ${t.last_name}`;m(i),S(!1),I({...a,username:i,user_id:t.user_id})}o&&I(i=>({...i,address_id:o.address_id}))},gt=t=>{t&&I(o=>({...o,address_id:t.address_id}))},ht=()=>{var o,i;const t=(i=(o=a==null?void 0:a.items)==null?void 0:o[0])==null?void 0:i.item_Total;return typeof t=="number"&&t>0?a.items.length:0},ft=()=>{var o,i,N;return Number((i=(o=a==null?void 0:a.items)==null?void 0:o[0])==null?void 0:i.item_Total)>0?(N=a==null?void 0:a.items)==null?void 0:N.reduce((f,D)=>f+Number(D.quantity||0),0):0},xt=t=>{if(!a.sub_total){C.error("Please add items first");return}if(te&&!fe){if(a.normal_delivery_charges&&I(D=>({...D,normal_delivery_charges:null})),!t){I(D=>({...D,express_delivery_hour:null,express_delivery_charges:null,normal_delivery_charges:null}));return}const o=`express_delivery_${t}hrs`,i=te[o],N=Number(i)/100;if(isNaN(N)){C.error("Invalid delivery charge percentage!");return}const f=Math.floor(a.sub_total*N);I(D=>({...D,express_delivery_hour:t,express_delivery_charges:f,total:D.sub_total+f}))}else C("Settings data not found!")};return b.useEffect(()=>{if(a.express_delivery_hour&&te&&!fe&&a.sub_total>0){const t=`express_delivery_${a.express_delivery_hour}hrs`,o=te[t],i=Number(o)/100;if(!isNaN(i)){const N=Math.floor(a.sub_total*i);I(f=>({...f,express_delivery_charges:N,total:f.sub_total+N}))}}},[a.sub_total]),e.jsx("div",{className:"container-fixed",children:e.jsxs("div",{className:"card max-w-5xl mx-auto p-6 bg-white shadow-md",children:[e.jsxs("div",{className:"flex",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:A?"Edit Order":"Add Order"}),!isNaN(g)&&e.jsxs("button",{className:"btn bg-gray-200 ml-4 text-gray-700 text-sm font-bold rounded-md",onClick:ut,children:[e.jsx(Ot,{size:20}),"View Order"]})]}),e.jsxs("form",{onSubmit:et,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-3 gap-x-6 mt-4",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{htmlFor:"branch",className:"block text-gray-700 text-sm font-bold mb-2",children:"Branch"}),e.jsxs("select",{id:"branch",className:"select border border-gray-300 rounded-md p-2 w-full text-sm",value:a.branch_id||"",onChange:t=>I({...a,branch_id:t.target.value?Number(t.target.value):null}),children:[e.jsx("option",{value:"",disabled:!0,children:"Select Branch"}),M.length>0?M.map(t=>e.jsx("option",{value:t.branch_id,children:t.branch_name},t.branch_id)):e.jsx("option",{children:"No Data Available"})]}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:U.branch_id||" "})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"delivery_by",className:"block text-gray-700 text-sm font-bold mb-2",children:"Delivery By"}),e.jsxs("select",{className:"select border border-gray-300 rounded-md p-2 w-full text-sm",id:"delivery_by",value:a.delivery_by||"",onChange:t=>{I({...a,delivery_by:Number(t.target.value)})},children:[e.jsx("option",{value:"",disabled:!0,children:"Select Delivery By"}),e.jsx("option",{value:1,children:"Home"}),e.jsx("option",{value:2,children:"Shop"})]})]}),e.jsxs("div",{className:"relative col-span-1",children:[e.jsxs("span",{className:"flex justify-between items-center",children:[e.jsx("label",{htmlFor:"username",className:"block text-gray-700 text-sm font-bold mb-2",children:"Customer name"}),e.jsx("button",{type:"button",className:"btn btn-sm btn-primary -mt-6 sm:btn-lg",onClick:ct,children:"Add Customer"})]}),e.jsx("input",{type:"text",id:"username",ref:V,autoComplete:"off",value:d||"",onChange:tt,className:"input border border-gray-300 rounded-md p-2 w-full mb-2",placeholder:"Search customer...",onFocus:()=>{Fe(!0),S(!0)}}),R&&P&&e.jsx("ul",{ref:Ce,className:"absolute -mt-2 bg-white border z-10 border-gray-300 rounded-md p-2 w-full text-sm max-h-[400px] overflow-y-auto",children:R.length>0?R.map(t=>e.jsxs("li",{className:"p-2 hover:bg-gray-200 cursor-pointer rounded",onClick:()=>st(t),children:[t.first_name," ",t.last_name," (",t.mobile_number,")"]},t.user_id)):e.jsx("li",{className:"p-2 text-gray-500",children:"No users found"})}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:U.username||" "})]}),e.jsxs("div",{className:"relative col-span-1",children:[e.jsxs("span",{className:"flex justify-between items-center",children:[e.jsx("label",{htmlFor:"address",className:"block text-gray-700 text-sm font-bold mb-2",children:"Customer address"}),e.jsx("button",{type:"button",className:"btn btn-sm btn-primary -mt-6",onClick:dt,children:"Add address"})]}),e.jsxs("select",{id:"address",value:a.address_id??"",defaultValue:"",onChange:it,className:"select border border-gray-300 rounded-md w-full text-sm",children:[e.jsx("option",{value:"",disabled:!0,children:"Select Address"}),B.length>0?B.map(t=>e.jsxs("option",{value:t.address_id,children:[t.building_number,", ",t.area,", ",t.landmark,","," ",t.city,", ",t.state,",",t.country,", ",t.pincode]},t.address_id)):e.jsx("option",{disabled:!0,children:"No Address Available"})]}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:U.address_id||" "})]})]}),e.jsx("div",{className:"flex flex-wrap",children:e.jsx("h1",{className:"text-xl font-semibold leading-none text-gray-900 mt-6 mb-5 ml-1",children:"Item"})}),a.items.map((t,o)=>{var i,N;return e.jsx(Tt.Fragment,{children:e.jsxs("div",{className:"border border-gray-200 rounded-xl mt-4 p-4 space-y-2",children:[e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-[minmax(150px,1fr)_minmax(150px,1fr)_minmax(150px,1fr)_minmax(50px,1fr)_minmax(50px,1fr)_minmax(50px,1fr)_minmax(35px,0.75fr)_minmax(35px,0.5fr)] gap-x-5 gap-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category",className:"block text-gray-700 text-sm font-bold mb-2",children:"Category"}),e.jsxs("select",{id:"category",value:t.category_id??"",onChange:f=>J(o,"category_id",f.target.value),className:"select border border-gray-300 rounded-md p-2 w-full text-sm",children:[e.jsx("option",{value:"",disabled:!0,children:"Select Category"}),v?e.jsx(e.Fragment,{children:e.jsx("option",{children:"Loading..."})}):u.length>0?u.sort((f,D)=>{const q=["men","women","kids","household"],z=q.indexOf(f.name.toLowerCase()),Q=q.indexOf(D.name.toLowerCase());return(z===-1?1/0:z)-(Q===-1?1/0:Q)}).map(f=>e.jsx("option",{value:f.category_id,children:f.name},f.category_id)):e.jsx("option",{children:"No Category Available"})]}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:U[`items[${o}].category_id`]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"product",className:"block text-gray-700 text-sm font-bold mb-2",children:"Product"}),e.jsxs("select",{id:"product",value:t.product_id??"",onChange:f=>J(o,"product_id",f.target.value),className:"select border border-gray-300 rounded-md p-2 w-full text-sm",children:[e.jsx("option",{value:"",disabled:!0,children:"Select Product"}),t.category_id?y?e.jsx("option",{children:"Loading..."}):((i=Z[t.category_id])==null?void 0:i.length)>0?Z[t.category_id].map(f=>e.jsx("option",{value:f.product_product_id,children:f.product_name},f.product_product_id)):t.product_id?e.jsx("option",{value:t.product_id,children:t.product_name},t.product_id):e.jsx("option",{children:"No Product Available"}):e.jsx("option",{disabled:!0,children:"Please select a category"})]}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:U[`items[${o}].product_id`]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"service",className:"block text-gray-700 text-sm font-bold mb-2",children:"Service"}),e.jsxs("select",{id:"service",value:t.service_id??"",onChange:f=>J(o,"service_id",f.target.value),className:"select border border-gray-300 rounded-md p-2 w-full text-sm",children:[e.jsx("option",{value:"",disabled:!0,children:"Select Service"}),t.product_id?h?e.jsx("option",{children:"Loading..."}):((N=ke[`${t.category_id}_${t.product_id}`])==null?void 0:N.length)>0?ke[`${t.category_id}_${t.product_id}`].map(f=>e.jsx("option",{value:f.service_service_id,children:f.service_name},f.service_service_id)):t.service_id?e.jsx("option",{value:t.service_id,children:t.service_name},t.service_id):e.jsx("option",{children:"No service available"}):e.jsx("option",{disabled:!0,children:"Please select a product"})]}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:U[`items[${o}].service_id`]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Price"}),e.jsx("input",{type:"text",value:t.price||"",onChange:f=>J(o,"price",f.target.value),className:`input border rounded-md p-2 w-full ${isNaN(g)?"border-gray-300 bg-gray-100 text-sm text-gray-600 cursor-not-allowed focus:outline-none":"border-gray-300"}`,readOnly:isNaN(g)}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:U[`items[${o}].price`]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"quantity",children:"Quantity"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",id:"quantity",autoComplete:"off",value:t.quantity??1,onChange:f=>J(o,"quantity",Number(f.target.value)),className:"w-full p-2 text-sm focus:outline-none input text-center"}),e.jsx("button",{type:"button",className:"absolute top-1/2 left-1.5 -translate-y-1/2 p-1 rounded hover:bg-gray-200 transition",onClick:()=>J(o,"quantity",Math.max(1,(t.quantity??1)-1)),children:e.jsx("i",{className:"ki-filled ki-minus text-gray-600 text-base"})}),e.jsx("button",{type:"button",className:"absolute top-1/2 right-1.5 -translate-y-1/2 p-1 rounded hover:bg-gray-200 transition",onClick:()=>J(o,"quantity",(t.quantity??1)+1),children:e.jsx("i",{className:"ki-filled ki-plus text-gray-500 text-base"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Item total"}),e.jsx("input",{type:"text",value:t.item_Total??"",onChange:f=>J(o,"item_Total",f.target.value),min:"0",step:"0.01",readOnly:!0,className:"input w-full border border-gray-300 bg-gray-100 text-sm text-gray-600 rounded-md p-2 cursor-not-allowed focus:outline-none"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"description_checkbox",className:"block text-gray-700 text-sm font-bold mb-2",children:"Remarks"}),e.jsx("div",{className:"h-full flex items-center",children:e.jsx("input",{className:"checkbox checkbox-lg ml-5",id:"description_checkbox","data-datatable-check":"true",type:"checkbox",checked:t.showDescription,onChange:f=>J(o,"showDescription",f.target.checked)})})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:" "}),e.jsx("div",{className:"grow flex justify-center items-center",children:e.jsx("button",{type:"button",className:`p-2 rounded-full ${a.items.length>1?"bg-red-100 hover:bg-red-200":"bg-gray-200 cursor-not-allowed"}`,onClick:()=>nt(o),disabled:a.items.length===1,children:e.jsx(Et,{className:`${a.items.length>1?"text-red-500":"text-gray-400"}`})})})]})]})}),e.jsx("div",{className:"flex justify-between sm:items-center smmobile:flex-col gap-y-2 smmobile:w-full",children:e.jsx("div",{children:t.showDescription&&e.jsx("div",{children:e.jsxs("div",{className:"flex mt-2 smmobile:w-[100%] smmobile:justify-self-start flex-col md:w-[350px] lg:w-[420px] sm:w-[300px] h-[80px] mb-2",children:[e.jsx("label",{htmlFor:"description",className:"block text-gray-700 text-sm font-bold mb-2",children:"Description"}),e.jsx("textarea",{id:"description",value:t.description||"",onChange:f=>J(o,"description",f.target.value),className:"h-full input border border-gray-300 rounded-md p-2 w-full"})]})})})})]})},o)}),e.jsxs("div",{className:"flex items-center justify-start gap-12 flex-wrap",children:[e.jsx("button",{type:"button",onClick:rt,className:"btn btn-primary mb-6 mt-4",children:"Add Item"}),e.jsxs("p",{className:"block text-gray-900 text-sm font-bold",children:["Total Items : ",ht()]}),e.jsxs("p",{className:"block text-gray-900 text-sm font-bold",children:["Total Quantity : ",ft()]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"coupon_code",children:"Coupon Code"}),e.jsxs("select",{id:"coupon_code",className:"select border border-gray-300 rounded-md p-2 w-full text-sm",value:a.coupon_code??"",onChange:t=>{const o=G.find(i=>i.code===t.target.value);lt(o==null?void 0:o.code)},children:[e.jsx("option",{value:"",disabled:!0,children:"Select Coupon Code"}),G&&G.length>0?G.map(t=>e.jsx("option",{value:t.code,children:t.code},t.coupon_id)):e.jsx("option",{children:"No Coupons available"})]}),e.jsx("p",{className:"text-red-500 text-sm",children:U.coupon_code||" "})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Coupon Discount"}),e.jsx("input",{type:"text",value:a.coupon_discount||"",readOnly:!0,className:"input border border-gray-300 bg-gray-100 text-sm text-gray-600 rounded-md p-2 cursor-not-allowed focus:outline-none"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:U.coupon_discount||" "})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Sub Total"}),e.jsx("input",{type:"text",value:a.sub_total||"",readOnly:!0,className:"input border border-gray-300 bg-gray-100 text-sm text-gray-600 rounded-md p-2 cursor-not-allowed focus:outline-none"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:U.sub_total||" "})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"kasar_amount",className:"block text-gray-700 text-sm font-bold mb-2",children:"Kasar amount"}),e.jsx("input",{type:"text",id:"kasar_amount",autoComplete:"off",value:a.kasar_amount||"",onChange:t=>{I({...a,kasar_amount:Number(t.target.value)})},className:"input border border-gray-300 rounded-md p-2",min:"0",step:"0.01"})]}),e.jsxs("div",{className:"col-span-2 grid grid-cols-3 gap-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"exp_delivery_time",className:"block text-gray-700 text-sm font-bold mb-2",children:"Express Delivery Time"}),e.jsxs("select",{className:"select border border-gray-300 rounded-md p-2 w-full text-sm",id:"exp_delivery_time",value:a.express_delivery_hour||"",onChange:t=>{xt(Number(t.target.value))},children:[e.jsx("option",{value:"",children:"Select Express Delivery Time"}),e.jsx("option",{value:24,children:"24 Hrs"}),e.jsx("option",{value:48,children:"48 Hrs"}),e.jsx("option",{value:72,children:"72 Hrs"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"express_delivery_charges",className:"block text-gray-700 text-sm font-bold mb-2",children:"Express Delivery Charge"}),e.jsx("input",{type:"text",id:"express_delivery_charges",autoComplete:"off",min:"0",value:a.express_delivery_charges||"",onChange:t=>$e("express_delivery_charges",t.target.value),className:`${a.normal_delivery_charges>0?"input border border-gray-300 rounded-md p-2 bg-gray-100 cursor-not-allowed focus:outline-none":"input border border-gray-300 rounded-md p-2"}`,readOnly:a.normal_delivery_charges>0}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:U.express_delivery_charges||" "})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"normal_delivery_charges",className:"block text-gray-700 text-sm font-bold mb-2",children:"Normal Delivery Charge"}),e.jsx("input",{type:"text",id:"normal_delivery_charges",min:"0",autoComplete:"off",value:a.normal_delivery_charges||"",onChange:t=>$e("normal_delivery_charges",t.target.value),className:`${a.express_delivery_charges>0?"input border border-gray-300 rounded-md p-2 bg-gray-100 cursor-not-allowed focus:outline-none":"input border border-gray-300 rounded-md p-2"}`,readOnly:a.express_delivery_charges>0}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:U.normal_delivery_charges||" "})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Total"}),e.jsx("input",{type:"text",value:a.total||"",readOnly:!0,className:"input border border-gray-300 bg-gray-100 text-sm text-gray-600 rounded-md p-2 cursor-not-allowed focus:outline-none"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"payment_method",className:"block text-gray-700 text-sm font-bold mb-2",children:"Payment Method"}),e.jsxs("select",{className:"select border border-gray-300 rounded-md p-2 w-full text-sm",id:"payment_method",value:a.payment_type??"",onChange:t=>I({...a,payment_type:Number(t.target.value)}),children:[e.jsx("option",{value:"",disabled:!0,children:"Select Payment Type"}),e.jsx("option",{value:1,children:"Cash on Delivery"}),e.jsx("option",{value:2,children:"Online Payment"})]}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:U.payment_type||" "}),!g&&a.payment_type===2&&e.jsx("div",{children:e.jsxs("button",{type:"button",className:"relative min-w-[160px] min-h-[40px] flex items-center gap-2 px-4 py-2 text-sm font-medium text-blue-600 border border-blue-500 rounded-lg hover:bg-blue-100 transition disabled:opacity-50",onClick:mt,disabled:re,children:[e.jsx("div",{className:"w-4 h-4 flex items-center justify-center",children:re?e.jsx(Ft,{}):e.jsx(Dt,{className:"w-4 h-4 text-blue-600"})}),e.jsx("span",{children:"Send Payment Link"})]})})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"paid_amount",className:"block text-gray-700 text-sm font-bold mb-2",children:"Paid amount"}),e.jsx("input",{type:"text",id:"paid_amount",autoComplete:"off",value:a.paid_amount||"",onChange:t=>{I({...a,paid_amount:Number(t.target.value)})},className:"input border border-gray-300 rounded-md p-2",min:"0",step:"0.01"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:U.paid_amount||" "})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"payment_status",className:"block text-gray-700 text-sm font-bold mb-2",children:"Payment Status"}),e.jsxs("select",{className:"select border border-gray-300 rounded-md p-2 w-full text-sm",id:"payment_status",value:a.payment_status??"",onChange:t=>I({...a,payment_status:Number(t.target.value)}),children:[e.jsx("option",{value:"",disabled:!0,children:"Select Payment Status"}),e.jsx("option",{value:1,children:"Pending"}),e.jsx("option",{value:2,children:"Received"}),e.jsx("option",{value:3,children:"Partial Received"})]}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:U.payment_status}),a.payment_status===2&&De>0&&e.jsx("p",{className:"w-full text-red-500 text-sm",children:`Remaining amount Rs ${De}`})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"transaction_id",className:"block text-gray-700 text-sm font-bold mb-2",children:"Transaction ID"}),e.jsx("input",{type:"text",id:"transaction_id",autoComplete:"off",value:a.transaction_id??"",onChange:t=>I({...a,transaction_id:t.target.value}),className:"input border border-gray-300 text-sm text-gray-600 rounded-md p-2 focus:outline-none"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"gstin",className:"block text-gray-700 text-sm font-bold mb-2",children:"GST Number"}),e.jsx("input",{type:"text",id:"gstin",autoComplete:"off",value:a.gstin,onChange:t=>I({...a,gstin:t.target.value}),className:"uppercase input border border-gray-300 text-sm text-gray-600 rounded-md p-2 focus:outline-none"})]})]}),e.jsxs("div",{className:"mt-6 flex gap-4",children:[e.jsx("button",{type:"submit",className:`btn btn-primary ${w||T?"opacity-50 cursor-not-allowed":""}`,disabled:w||T,children:w||T?w?"Adding...":"Updating...":g?"Update Order":"Add Order"}),e.jsx("button",{type:"button",onClick:at,className:"btn btn-secondary",disabled:w||T,children:"Cancel"})]})]}),e.jsx(ns,{onAddressAdded:gt,isOpen:r,setIsSubmit:E,onClose:()=>_(!1),userId:a.user_id,fullname:a.username}),e.jsx(os,{onCustomerCreated:pt,isOpen:n,setIsSubmit:E,onClose:()=>p(!1)})]})})};export{gs as default};
