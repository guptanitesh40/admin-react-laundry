import{r as s,B as T,c as l}from"./index-fK_RYAgp.js";const j=(a=1,n=10,r="",c,i)=>{const[h,S]=s.useState([]),[g,m]=s.useState(0),[y,p]=s.useState(!1),u=async()=>{var d,f;const P=localStorage.getItem("authToken"),o=new URLSearchParams;a&&o.append("page_number",a.toString()),n&&o.append("per_page",n.toString()),r&&o.append("search",r),c&&o.append("sort_by",c),i&&o.append("order",i),p(!0);try{const t=await fetch(`${T}/admin/products?${o}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`}});if(!t.ok){const E=await t.json();l.error(E.message,{position:"top-center"});return}const e=await t.json(),w=((d=e==null?void 0:e.data)==null?void 0:d.result)||[],k=((f=e==null?void 0:e.data)==null?void 0:f.count)||0;S(w),m(k)}catch(t){l.error((t==null?void 0:t.message)||"Network error: Failed to fetch.",{position:"top-center"})}finally{p(!1)}};return s.useEffect(()=>{u()},[a,n,r,c,i]),{products:h,loading:y,totalProducts:g,fetchProducts:u}};export{j as u};
