import{aY as R,r as i,j as a,a$ as y}from"./index-Af1uNubq.js";function M(s){return R({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"polygon",attr:{fill:"#43A047",points:"40.6,12.1 17,35.7 7.4,26.1 4.6,29 17,41.3 43.4,14.9"},child:[]}]})(s)}const z=({options:s=[],displayValue:S,placeholder:j,selectedValues:r,onRemove:p,onSelect:w,setSearch:l,search:m="",isSearchInput:u=!0,className:N="",sliceCount:e=1})=>{const[k,v]=i.useState(!1),[C,x]=i.useState(m),t=i.useRef(null),O=()=>{x(""),l&&l(""),v(n=>!n)},E=n=>{const c=r.includes(n.value)?r.filter(d=>d!==n.value):[...r,n.value],g=s.filter(d=>c.includes(d.value));r.includes(n.value)?p(g):w(g)},b=n=>{const c=n.target.value;x(c),l&&l(c)},o=m||C,h=u?s.filter(n=>n.label.toLowerCase().includes(o.toLowerCase())):s,f=n=>{t.current&&!t.current.contains(n.target)&&v(!1)};i.useEffect(()=>(document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}),[]);const D=h.length===0&&s.length>0,L=o&&s.length===0;return a.jsxs("div",{className:`multi-select-container ${N}`,ref:t,children:[a.jsxs("div",{className:"multi-select",onClick:O,children:[(r==null?void 0:r.length)===0?a.jsx("span",{className:"placeholder",children:j}):a.jsxs("div",{className:"selected-options",children:[(s==null?void 0:s.length)>0?s.filter(n=>r==null?void 0:r.includes(n.value)).slice(0,e).map(n=>a.jsx("span",{className:"selected-option",children:n.label},n.value)):null,(r==null?void 0:r.length)>e&&a.jsxs("span",{className:"selected-option",children:["+",r.length-e]})]}),a.jsx("span",{className:"dropdown-arrow",children:a.jsx(y,{size:22})})]}),k&&a.jsxs("div",{className:"dropdown-menu",children:[u&&a.jsx("input",{type:"text",className:"search-input",placeholder:"Search...",value:o,onChange:b}),a.jsx("ul",{children:h.length>0?h.map(n=>a.jsxs("li",{className:`dropdown-item ${r!=null&&r.includes(n.value)?"selected":""}`,onClick:()=>E(n),children:[a.jsx("span",{children:n.label}),(r==null?void 0:r.includes(n.value))&&a.jsx("span",{className:"checkmark",children:a.jsx(M,{size:18})})]},n.value)):L?a.jsx("li",{className:"no-search",children:"No customers found"}):D?a.jsx("li",{className:"no-search",children:"No results match"}):null})]})]})};export{z as M};
