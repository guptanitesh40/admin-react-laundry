import{r as n,B as _,c as l}from"./index-b486Fjk2.js";const B=(s=1,a=10,r="",c,i)=>{const[h,S]=n.useState([]),[g,m]=n.useState(0),[y,p]=n.useState(!1),u=async()=>{var d,f;const w=localStorage.getItem("authToken"),e=new URLSearchParams;s&&e.append("page_number",s.toString()),a&&e.append("per_page",a.toString()),r&&e.append("search",r),c&&e.append("sort_by",c),i&&e.append("order",i),p(!0);try{const t=await fetch(`${_}/admin/products?${e}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`}});if(!t.ok){const P=await t.json();l.error(P.message,{position:"top-center"});return}const o=await t.json(),k=((d=o==null?void 0:o.data)==null?void 0:d.result)||[],E=((f=o==null?void 0:o.data)==null?void 0:f.count)||0;S(k),m(E)}catch(t){l.error((t==null?void 0:t.message)||"Network error: Failed to fetch.",{position:"top-center"})}finally{p(!1)}};return n.useEffect(()=>{u()},[s,a,r,c,i]),{products:h,loading:y,count:g,fetchProducts:u}};export{B as u};
