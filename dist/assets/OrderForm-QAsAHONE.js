import{r as u,_ as f,w as Q,f as R,o as C,g as K,H as _e,j as e,V as W,t as je,y as Ne,m as ve,n as we,c as ke}from"./index-CrW1VcAo.js";import{u as Se}from"./useGetPrice-D2Oxa2qm.js";import{u as Ce}from"./useGetSingleOrder-CeeiQ9sG.js";const De=()=>{const[c,h]=u.useState([]),[y,b]=u.useState(!1);return{products:c,loading:y,fetchProductsOnId:async d=>{const m=localStorage.getItem("authToken"),p=`http://35.154.167.170:3000/category/${d}/product`;try{const r=await fetch(p,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`}});if(!r.ok){const i=await r.json();f.error(i.message,{position:"top-center"});return}const n=await r.json(),_=(n==null?void 0:n.data)||[];h(_)}catch(r){f.error((r==null?void 0:r.message)||"Network error: Failed to fetch.",{position:"top-center"})}finally{b(!1)}}}},Te=()=>{const[c,h]=u.useState([]),[y,b]=u.useState(!1);return{services:c,loading:y,fetchServicesOnId:async(d,m)=>{const p=localStorage.getItem("authToken"),r=`http://35.154.167.170:3000/category/${d}/product/${m}/service`;try{const n=await fetch(r,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`}});if(!n.ok){const x=await n.json();f.error(x.message,{position:"top-center"});return}const _=await n.json(),i=(_==null?void 0:_.data)||[];h(i)}catch(n){f.error((n==null?void 0:n.message)||"Network error: Failed to fetch.",{position:"top-center"})}finally{b(!1)}}}},Pe="http://35.154.167.170:3000",Ae=`${Pe}/admin/orders`,Fe=()=>{const[c,h]=u.useState(!1);return{addOrder:async b=>{const N=localStorage.getItem("authToken");h(!0);try{const d=await fetch(Ae,{method:"POST",headers:{Authorization:`Bearer ${N}`,"Content-Type":"application/json"},body:JSON.stringify(b)});if(!d.ok){const p=await d.json();return f.error(p.message,{position:"top-center"}),!1}const m=await d.json();return f.success(m.message,{position:"top-center"}),!0}catch(d){return f.error((d==null?void 0:d.message)||"Network error: Failed to fetch.",{position:"top-center"}),!1}finally{h(!1)}},loading:c}},$e=()=>{const[c,h]=u.useState(!1);return{updateOrder:async(b,N)=>{const d=localStorage.getItem("authToken"),m=`http://35.154.167.170:3000/admin/orders/${b}`;h(!0);try{const p=await fetch(m,{method:"PUT",headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"},body:JSON.stringify(N)});if(p.ok){const n=await p.json();return f.success(n.message,{position:"top-center"}),!0}const r=await p.json();return f.error(r.message,{position:"top-center"}),!1}catch(p){return f.error((p==null?void 0:p.message)||"Network error: Failed to fetch.",{position:"top-center"}),!1}finally{h(!1)}},loading:c}},Oe=()=>{const[c,h]=u.useState([]),[y,b]=u.useState(!1);return{address:c,loading:y,fetchAddress:async d=>{var r;const m=localStorage.getItem("authToken"),p=`http://35.154.167.170:3000/address/${d}/user`;try{const n=await fetch(p,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`}});if(!n.ok){const x=await n.json();f.error(x.message,{position:"top-center"});return}const _=await n.json(),i=((r=_==null?void 0:_.data)==null?void 0:r.result)||[];h(i)}catch(n){f.error((n==null?void 0:n.message)||"Network error: Failed to fetch.",{position:"top-center"})}finally{b(!1)}}}},Ee="http://35.154.167.170:3000/user/customers",Ie=()=>{const[c,h]=u.useState([]),[y,b]=u.useState(0),[N,d]=u.useState(!1),m=u.useCallback(async p=>{var i;const r=localStorage.getItem("authToken"),n=new URLSearchParams;p&&n.append("search",p);const _=`${Ee}?${n}`;d(!0);try{const x=await fetch(_,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!x.ok){const q=await x.json();return Q.error(q.message,{position:"top-center"}),[]}const k=await x.json(),T=(k==null?void 0:k.data)||[],A=((i=k==null?void 0:k.data)==null?void 0:i.count)||0;return h(T),b(A),T}catch(x){return Q.error((x==null?void 0:x.message)||"Network error: Failed to fetch.",{position:"top-center"}),[]}finally{d(!1)}},[]);return{customers:c,fetchCustomers:m,setTotalCustomers:b,loading:N}},qe=R().shape({category_id:C().required("Please select a category").test("required","Please select a category",c=>!!c),product_id:C().required("Please select a product").test("required","Please select a product",c=>!!c),service_id:C().required("Please select a service").test("required","Please select a service",c=>!!c),price:C().required("Price is not available for the combination, please add a price").test("required","Price is not available for the combination, please add a price",c=>!!c)}),Re=R().shape({username:K().required("Please enter username"),express_delivery_charges:C().typeError("Express delivery charges must be a number").min(0,"Express delivery charges must be a positive number"),shipping_charges:C().typeError("Shipping charge must be a number").min(0,"Shipping charge must be a positive number"),payment_type:C().required("Please choose payment type").test("required","Please choose order status",c=>!!c),payment_status:C().required("Please choose payment status").test("required","Please choose payment status",c=>!!c),paid_amount:C().typeError("Paid amount must be a number").min(0,"Paid amount must be a positive number"),items:_e().of(qe)}),Ue=()=>{const[c,h]=u.useState(!1);return{addAddress:async b=>{const N="http://35.154.167.170:3000/address/admin/",d=localStorage.getItem("authToken");h(!0);try{const m=await fetch(N,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify(b)});if(!m.ok){const r=await m.json();return f.error(r.message,{position:"top-center"}),!1}const p=await m.json();return f.success(p.message,{position:"top-center"}),!0}catch(m){return f.error((m==null?void 0:m.message)||"Error adding banner",{position:"top-center"}),!1}finally{h(!1)}},loading:c}},Le=R().shape({pincode:K().required("Pin Code is required").matches(/^[0-9]{6}$/,"Pincode must be 6 digit")}),Ge=({isOpen:c,onClose:h,userId:y,setIsSubmit:b})=>{const{addAddress:N,loading:d}=Ue(),[m,p]=u.useState(""),[r,n]=u.useState({building_number:"",area:"",landmark:"",pincode:"",city:"",state:"",country:"",user_id:null});u.useEffect(()=>{c?y&&n(i=>({...i,user_id:y})):(n({building_number:"",area:"",landmark:"",pincode:"",city:"",state:"",country:"",user_id:null}),p(""))},[c,y]);const _=async i=>{i.preventDefault();try{await Le.validate(r,{abortEarly:!1}),y&&await N(r),b(!0),h()}catch(x){x instanceof W&&p(x.errors[0])}};if(c)return e.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[e.jsx("div",{className:"fixed inset-0 bg-black opacity-50",onClick:h}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-lg z-10 relative",children:[e.jsx("button",{className:"btn btn-sm btn-icon btn-light btn-outline absolute top-0 right-0 mr-5 mt-5 lg:mr-5 shadow-default",onClick:h,children:e.jsx("i",{className:"ki-filled ki-cross"})}),e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Add New Address"}),e.jsxs("form",{onSubmit:_,children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"building_number",className:"block text-gray-700 font-semibold",children:"Building Number"}),e.jsx("input",{type:"text",id:"building_number",name:"building_number",value:r.building_number,onChange:i=>n({...r,building_number:i.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"area",className:"block text-gray-700 font-semibold",children:"Area"}),e.jsx("input",{type:"text",id:"area",name:"area",value:r.area,onChange:i=>n({...r,area:i.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"landmark",className:"block text-gray-700 font-semibold",children:"Landmark"}),e.jsx("input",{type:"text",id:"landmark",name:"landmark",value:r.landmark,onChange:i=>n({...r,landmark:i.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"pincode",className:"block text-gray-700 font-semibold",children:"Pin code"}),e.jsx("input",{type:"text",id:"pincode",name:"pincode",value:r.pincode,onChange:i=>n({...r,pincode:i.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"text-red-500 text-sm",children:m||" "})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"city",className:"block text-gray-700 font-semibold",children:"City"}),e.jsx("input",{type:"text",id:"city",name:"city",value:r.city,onChange:i=>n({...r,city:i.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"state",className:"block text-gray-700 font-semibold",children:"State"}),e.jsx("input",{type:"text",id:"state",name:"state",value:r.state,onChange:i=>n({...r,state:i.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"country",className:"block text-gray-700 font-semibold",children:"Country"}),e.jsx("input",{type:"text",id:"country",name:"country",value:r.country,onChange:i=>n({...r,country:i.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"})]})]}),e.jsxs("div",{className:"flex justify-end mt-4",children:[e.jsx("button",{type:"button",onClick:h,className:"btn btn-light mr-2",disabled:d,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:d,className:`btn btn-primary ${d?"opacity-50 cursor-not-allowed":""}`,children:d?"Submitting...":"Submit"})]})]})]})]})},Ve=()=>{const{prices:c,fetchPrices:h}=Se(),{categories:y,fetchCategories:b}=je(),{products:N,fetchProductsOnId:d}=De(),{services:m,fetchServicesOnId:p}=Te(),[r,n]=u.useState(!1),[_,i]=u.useState([]),[x,k]=u.useState(""),[T,A]=u.useState(!0),{id:q}=Ne(),{updateOrder:X,loading:Y}=$e(),{addOrder:Z,loading:ee}=Fe(),U=Number(q),te=1e3,se=1,[ae,L]=u.useState(!1),[G,z]=u.useState(!1),{fetchCustomers:re}=Ie(),{coupons:ne}=ve(se,te),{order:g}=Ce(U),{address:le,fetchAddress:B}=Oe(),M=we(),[l,v]=u.useState({coupon_code:"",coupon_discount:null,express_delivery_charges:null,shipping_charges:null,payment_type:null,order_status:null,payment_status:null,sub_total:null,paid_amount:null,transaction_id:"",address_id:null,username:"",user_id:null,items:[{category_id:null,product_id:null,service_id:null,description:null,price:null,quantity:1,item_Total:null,showDescription:!1}]});u.useEffect(()=>{(async()=>{l.user_id&&await B(l.user_id),G&&(await B(l.user_id),z(!1))})(),b()},[b,l.user_id,G]);const[w,oe]=u.useState({});u.useEffect(()=>{(async()=>{if(x&&T){const a=await re(x);i(a)}else i([])})()},[x,T]),u.useEffect(()=>{if(g){const t=`${g.user.first_name} ${g.user.last_name}`;k(t),A(!1);const a={coupon_code:g.coupon_code||"",coupon_discount:g.coupon_discount||null,express_delivery_charges:g.express_delivery_charges||null,shipping_charges:g.shipping_charges||null,payment_type:g.payment_type||null,order_status:g.order_status||null,payment_status:g.payment_status||null,sub_total:null,paid_amount:g.paid_amount||null,transaction_id:g.transaction_id||"",address_id:g.address_id,username:t,user_id:g.user_id||null,items:g.items.map(o=>({category_id:o.category_id,product_id:o.product_id,service_id:o.service_id,description:o.description||null,price:o.price,quantity:o.quantity,item_Total:o.price*o.quantity,showDescription:!!o.description}))},s=F(a);v({...a,sub_total:s})}else v({coupon_code:"",coupon_discount:null,express_delivery_charges:null,shipping_charges:null,payment_type:null,order_status:1,payment_status:null,sub_total:null,paid_amount:null,transaction_id:"",address_id:null,username:"",user_id:null,items:[{category_id:null,product_id:null,service_id:null,description:null,price:null,quantity:1,item_Total:null,showDescription:!1}]})},[g]);const ce=async t=>{t.preventDefault();try{const a=l.items.map(j=>({category_id:Number(j.category_id),product_id:Number(j.product_id),service_id:Number(j.service_id),description:j.description,price:Number(j.price),quantity:Number(j.quantity)})),s={...l,address_id:Number(l.address_id),coupon_discount:Number(l.coupon_discount),shipping_charges:Number(l.shipping_charges),paid_amount:Number(l.paid_amount),express_delivery_charges:Number(l.express_delivery_charges),payment_type:Number(l.payment_type),payment_status:Number(l.payment_status),order_status:Number(l.order_status),items:a};let o;await Re.validate(s,{abortEarly:!1}),g?o=await X(U,s):o=await Z(s),o&&M("/orders")}catch(a){if(a instanceof W){const s={};a.inner.forEach(o=>{s[o.path||""]=o.message}),oe(s)}else f.error("Failed to submit the form. Please try again.")}},ie=t=>{k(t.target.value),A(!0)},de=t=>{const a=`${t.first_name} ${t.last_name}`;k(a),A(!1),v({...l,username:a,user_id:t.user_id})},ue=()=>{M("/orders")},me=()=>{v(t=>({...t,items:[...t.items,{category_id:null,product_id:null,service_id:null,description:null,price:null,quantity:1,item_Total:null,showDescription:!1}]}))},pe=t=>{v(a=>{const s=a.items.filter((O,$)=>$!==t),o={...a,items:s},j=F(o);return{...o,sub_total:j}})},D=(t,a,s)=>{v(o=>{const j=o.items.map((E,fe)=>{if(fe===t){const S={...E,[a]:s};a==="showDescription"&&(S.showDescription=s);const P=Number(S.category_id),I=Number(S.product_id),J=Number(S.service_id),ye=Number(S.quantity)||1;if((a==="category_id"||a==="product_id")&&(P&&d(P),I&&P&&p(P,I)),P&&I&&J){const H=he(P,I,J);S.price=H,S.item_Total=H*ye}else S.price=null,S.item_Total=null;return S}return E}),O={...o,items:j},$=F(O);return{...O,sub_total:$}})},he=(t,a,s)=>{const o=`${t}_${a}_${s}`;return c[o]||0},xe=(t,a)=>{v(s=>{const o={...s,coupon_code:t,coupon_discount:a},j=F(o);return{...o,sub_total:j}}),n(!1)},V=(t,a)=>{v(s=>{const o={...s,[t]:a},j=F(o);return{...o,sub_total:j}})},F=t=>{const a=t.items.reduce(($,E)=>$+(E.item_Total||0),0),s=parseFloat(t.express_delivery_charges)||0,o=parseFloat(t.shipping_charges)||0,j=parseFloat(t.coupon_discount)||0;return a+s+o-j},be=t=>{const a=t.target.value;v(s=>({...s,address_id:a}))},ge=t=>{t.preventDefault(),l.user_id?L(!0):f.error("Please select the user to add address")};return e.jsx("div",{className:"container-fixed",children:e.jsxs("div",{className:"card max-w-5xl mx-auto p-6 bg-white shadow-md",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:g?"Edit Order":"Add Order"}),e.jsxs("form",{onSubmit:ce,children:[e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"relative flex flex-col flex-[0_0_40%]",children:[e.jsx("label",{htmlFor:"username",className:"block text-gray-700 text-sm font-bold mb-2",children:"User Name"}),e.jsx("input",{type:"text",id:"username",value:x||"",onChange:ie,className:"input border border-gray-300 rounded-md p-2 w-full mb-2",placeholder:"Search User..."}),x&&T&&e.jsx("ul",{className:"absolute mt-20 bg-white z-10 border border-gray-300 rounded-md p-2 w-full text-sm",children:_.length>0?_.map(t=>e.jsxs("li",{className:"p-2 hover:bg-gray-100 cursor-pointer",onClick:()=>de(t),children:[t.first_name," ",t.last_name," (",t.mobile_number,")"]},t.user_id)):e.jsx("li",{className:"p-2 text-gray-500",children:"No users found"})}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:w.username||" "})]}),e.jsxs("div",{className:"grow flex",children:[e.jsxs("div",{className:"grow flex flex-col",children:[e.jsx("label",{htmlFor:"address",className:"block text-gray-700 text-sm font-bold mb-2",children:"Address Details"}),e.jsxs("select",{id:"address",value:l.address_id??"",onChange:be,className:"select border border-gray-300 rounded-md p-2 w-full text-sm",children:[e.jsx("option",{value:"",disabled:!0,children:"Select Address"}),le.map(t=>e.jsxs("option",{value:t.address_id,children:[t.building_number,", ",t.area,", ",t.landmark,","," ",t.city,", ",t.state,",",t.country,", ",t.pincode]},t.address_id))]})]}),e.jsx("div",{className:"flex flex-col self-center",children:e.jsx("button",{className:"btn btn-primary w-20 ml-2",onClick:ge,children:"Add address"})})]})]}),e.jsx("div",{children:e.jsx("h1",{className:"text-xl font-semibold leading-none text-gray-900 mt-10 mb-5",children:"Item"})}),l.items.map((t,a)=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-start md:flex-row md:items-end md:space-x-1",children:[e.jsxs("div",{className:"flex flex-col flex-1 mb-4 md:mb-0",children:[e.jsx("label",{htmlFor:"category",className:"block text-gray-700 text-sm font-bold mb-2",children:"Category"}),e.jsxs("select",{id:"category",value:t.category_id??"",onChange:s=>D(a,"category_id",s.target.value),className:"select border border-gray-300 rounded-md p-2 w-full text-sm",children:[e.jsx("option",{value:"",disabled:!0,children:"Select Category"}),y.map(s=>e.jsx("option",{value:s.category_id,children:s.name},s.category_id))]}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:w[`items[${a}].category_id`]||" "})]}),e.jsxs("div",{className:"flex flex-col flex-1 mb-4 md:mb-0",children:[e.jsx("label",{htmlFor:"product",className:"block text-gray-700 text-sm font-bold mb-2",children:"Product"}),e.jsxs("select",{id:"product",value:t.product_id??"",onChange:s=>D(a,"product_id",s.target.value),className:"select border border-gray-300 rounded-md p-2 w-full text-sm",children:[e.jsx("option",{value:"",disabled:!0,children:"Select Product"}),N.map(s=>e.jsx("option",{value:s.product_product_id,children:s.product_name},s.product_product_id))]}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:w[`items[${a}].product_id`]||" "})]}),e.jsxs("div",{className:"flex flex-col flex-1 mb-4 md:mb-0",children:[e.jsx("label",{htmlFor:"service",className:"block text-gray-700 text-sm font-bold mb-2",children:"Service"}),e.jsxs("select",{id:"service",value:t.service_id??"",onChange:s=>D(a,"service_id",s.target.value),className:"select border border-gray-300 rounded-md p-2 w-full text-sm",children:[e.jsx("option",{value:"",disabled:!0,children:"Select Service"}),m==null?void 0:m.map(s=>e.jsx("option",{value:s==null?void 0:s.service_service_id,children:s.service_name},s==null?void 0:s.service_service_id))]}),e.jsxs("p",{className:"w-full text-red-500 text-sm",children:[w[`items[${a}].service_id`]||" ",e.jsx("br",{})]}),e.jsxs("p",{className:"w-full text-red-500 text-sm",children:[" ",e.jsx("br",{})]})]}),e.jsxs("div",{className:"flex flex-col flex-1",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Price"}),e.jsx("input",{type:"text",value:t.price||"",onChange:s=>D(a,"price",s.target.value),className:"input border border-gray-300 rounded-md p-2 w-full",readOnly:!0}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:w[`items[${a}].price`]||" "})]}),e.jsxs("div",{className:"flex flex-col flex-1 mb-4 md:mb-0",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Quantity"}),e.jsx("input",{type:"text",value:t.quantity??1,onChange:s=>D(a,"quantity",s.target.value),className:"input border border-gray-300 rounded-md p-2 w-full"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:" "})]}),e.jsxs("div",{className:"flex flex-col flex-1 mb-4 md:mb-0",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Item total"}),e.jsx("input",{type:"text",value:t.item_Total??"",onChange:s=>D(a,"item_Total",s.target.value),className:"input border border-gray-300 rounded-md p-2",min:"0",step:"0.01",readOnly:!0}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:" "})]}),e.jsxs("div",{className:"flex flex-col md:mb-0",children:[e.jsx("label",{htmlFor:"description_checkbox",className:"block text-gray-700 text-sm font-bold mb-2",children:"Description"}),e.jsx("input",{className:"checkbox checkbox-lg m-auto",id:"description_checkbox","data-datatable-check":"true",type:"checkbox",checked:t.showDescription,onChange:s=>D(a,"showDescription",s.target.checked)}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:" "})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{type:"button",className:`p-2 mt-8 rounded-full ${l.items.length>1?"bg-red-100 hover:bg-red-200":"bg-gray-200 cursor-not-allowed"}`,onClick:()=>pe(a),disabled:l.items.length===1,children:e.jsx(ke,{className:`${l.items.length>1?"text-red-500":"text-gray-400"}`})})})]},a),t.showDescription&&e.jsx("div",{children:e.jsxs("div",{className:"flex flex-col w-80 mb-8",children:[e.jsx("label",{htmlFor:"description",className:"block text-gray-700 text-sm font-bold mb-2",children:"Description"}),e.jsx("textarea",{id:"description",value:t.description||"",onChange:s=>D(a,"description",s.target.value),className:"input border border-gray-300 rounded-md p-2 w-full"})]})})]})),e.jsx("button",{type:"button",onClick:me,className:"btn btn-secondary mb-6",children:"Add Item"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex flex-col relative",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Coupon Code"}),e.jsxs("button",{type:"button",onClick:()=>n(!r),className:"bg-gray-200 border border-gray-300 rounded-md px-4 py-2 text-gray-700 hover:bg-gray-300 w-full text-left flex justify-between items-center",children:[e.jsx("span",{children:l.coupon_code||"Select Coupon code"}),e.jsx("span",{className:"ml-2",children:"▾"})]}),r&&e.jsx("ul",{className:"dropdown-menu scrollable-menu absolute z-10 mt-[73px] w-full bg-white border border-gray-300 rounded-md shadow-lg",children:ne.map(t=>e.jsx("li",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>xe(t.code,t.discount_value),children:e.jsx("div",{className:"block px-4 py-2 text-sm",children:t.code})},t.coupon_id))}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:w.coupon_code||" "})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Coupon Discount"}),e.jsx("input",{type:"text",value:l.coupon_discount||"",readOnly:!0,className:"input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:w.coupon_discount||" "})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"express_delivery_charges",className:"block text-gray-700 text-sm font-bold mb-2",children:"Express Delivery Charges"}),e.jsx("input",{type:"text",id:"express_delivery_charges",min:"0",value:l.express_delivery_charges||"",onChange:t=>V("express_delivery_charges",t.target.value),className:"input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:w.express_delivery_charges||" "})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"shipping_charges",className:"block text-gray-700 text-sm font-bold mb-2",children:"Shipping Charges"}),e.jsx("input",{type:"text",id:"shipping_charges",min:"0",value:l.shipping_charges||"",onChange:t=>V("shipping_charges",t.target.value),className:"input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:w.shipping_charges||" "})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Sub Total"}),e.jsx("input",{type:"text",value:l.sub_total||"",readOnly:!0,className:"input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:w.sub_total||" "})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"paid_amount",className:"block text-gray-700 text-sm font-bold mb-2",children:"Paid amount"}),e.jsx("input",{type:"text",id:"paid_amount",value:l.paid_amount||"",onChange:t=>v({...l,paid_amount:t.target.value}),className:"input border border-gray-300 rounded-md p-2",min:"0",step:"0.01"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:w.paid_amount||" "})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"payment_method",className:"block text-gray-700 text-sm font-bold mb-2",children:"Payment Method"}),e.jsxs("select",{className:"select border border-gray-300 rounded-md p-2 w-full text-sm",id:"payment_method",value:l.payment_type??"",onChange:t=>v({...l,payment_type:Number(t.target.value)}),children:[e.jsx("option",{value:"",disabled:!0,children:"Select Payment Type"}),e.jsx("option",{value:1,children:"Cash on Delivery"}),e.jsx("option",{value:2,children:"Online Payment"})]}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:w.payment_type||" "})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"payment_status",className:"block text-gray-700 text-sm font-bold mb-2",children:"Payment Status"}),e.jsxs("select",{className:"select border border-gray-300 rounded-md p-2 w-full text-sm",id:"payment_status",value:l.payment_status??"",onChange:t=>v({...l,payment_status:t.target.value}),children:[e.jsx("option",{value:"",disabled:!0,children:"Select Payment Status"}),e.jsx("option",{value:1,children:"Pending"}),e.jsx("option",{value:2,children:"Received"}),e.jsx("option",{value:3,children:"Partial Received"})]}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:w.payment_status||" "})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"transaction_id",className:"block text-gray-700 text-sm font-bold mb-2",children:"Transaction ID"}),e.jsx("input",{type:"text",id:"transaction_id",value:l.transaction_id||"",onChange:t=>v({...l,transaction_id:t.target.value}),className:"input border border-gray-300 rounded-md p-2"})]})]}),e.jsxs("div",{className:"flex justify-start mt-6",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-4",disabled:ee||Y,children:g?"Update Order":"Add Order"}),e.jsx("button",{type:"button",onClick:ue,className:"btn btn-secondary",children:"Cancel"})]})]}),e.jsx(Ge,{isOpen:ae,setIsSubmit:z,onClose:()=>L(!1),userId:l.user_id})]})})};export{Ve as default};
