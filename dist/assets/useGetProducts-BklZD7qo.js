import{r as s,v as l}from"./index-D8mCTybp.js";const $="http://35.154.167.170:3000/admin/products",E=(a=1,n=10,r="",c,i)=>{const[f,h]=s.useState([]),[P,S]=s.useState(0),[g,p]=s.useState(!1),m=s.useCallback(async()=>{var u,d;const y=localStorage.getItem("authToken"),o=new URLSearchParams;a&&o.append("page_number",a.toString()),n&&o.append("per_page",n.toString()),r&&o.append("search",r),c&&o.append("sort_by",c),i&&o.append("order",i);const T=`${$}?${o}`;p(!0);try{const t=await fetch(T,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`}});if(!t.ok){const _=await t.json();l.error(_.message,{position:"top-center"});return}const e=await t.json(),k=((u=e==null?void 0:e.data)==null?void 0:u.result)||[],w=((d=e==null?void 0:e.data)==null?void 0:d.count)||0;h(k),S(w)}catch(t){l.error((t==null?void 0:t.message)||"Network error: Failed to fetch.",{position:"top-center"})}finally{p(!1)}},[a,n,i,c,r]);return{products:f,loading:g,totalProducts:P,fetchProducts:m}};export{E as u};
