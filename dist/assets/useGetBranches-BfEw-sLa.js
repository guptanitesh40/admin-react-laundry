import{r as n,_ as l}from"./index-jKd1kMjl.js";const T="http://35.154.167.170:3000/branches",w=(a=1,r=10,s="",o,c)=>{const[d,B]=n.useState([]),[S,g]=n.useState(0),[y,p]=n.useState(!1),h=async()=>{var f,u;const _=localStorage.getItem("authToken"),e=new URLSearchParams;a&&e.append("page_number",a.toString()),r&&e.append("per_page",r.toString()),s&&e.append("search",s),o&&e.append("sortBy",o),c&&e.append("order",c),p(!0);try{const i=await fetch(`${T}?${e}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`}}),t=await i.json();if(!i.ok){l.error(t.message,{position:"top-center"});return}B(((f=t==null?void 0:t.data)==null?void 0:f.result)||[]),g(((u=t==null?void 0:t.data)==null?void 0:u.count)||0)}catch{l.error("An error occurred while fetching data")}finally{p(!1)}};return n.useEffect(()=>{h()},[a,r,s,o,c]),{branches:d,totalBranches:S,loading:y,fetchBranches:h}};export{w as u};
