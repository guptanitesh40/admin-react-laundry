import{r as o,_ as l}from"./index-CiznbD76.js";const C="http://35.154.167.170:3000/companies",w=(n=1,a=10,s="",r,c)=>{const[d,m]=o.useState([]),[y,p]=o.useState(!1),[S,_]=o.useState(0),f=async()=>{var u,h;const g=localStorage.getItem("authToken"),e=new URLSearchParams;n&&e.append("page_number",n.toString()),a&&e.append("per_page",a.toString()),s&&e.append("search",s),r&&e.append("sort_by",r),c&&e.append("order",c),p(!0);try{const i=await fetch(`${C}?${e}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`}}),t=await i.json();if(!i.ok){l.error(t.message,{position:"top-center"});return}m(((u=t==null?void 0:t.data)==null?void 0:u.result)||[]),_(((h=t==null?void 0:t.data)==null?void 0:h.count)||0)}catch{l.error("An error occurred while fetching data")}finally{p(!1)}};return o.useEffect(()=>{f()},[n,a,s,r,c]),{companies:d,loading:y,totalCount:S,fetchCompanies:f}};export{w as u};
