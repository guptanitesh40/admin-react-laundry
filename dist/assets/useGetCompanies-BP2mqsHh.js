import{r as n,_ as d}from"./index-DctR2NZY.js";const T="http://35.154.167.170:3000/companies",$=(o=1,a=10,s="",r,i,c)=>{const[m,S]=n.useState([]),[g,f]=n.useState(!1),[_,y]=n.useState(0),u=async()=>{var h,l;const C=localStorage.getItem("authToken"),t=new URLSearchParams;o&&t.append("page_number",o.toString()),a&&t.append("per_page",a.toString()),s&&t.append("search",s),r&&t.append("sort_by",r),i&&t.append("order",i),c&&t.append("company_ownedby",c.toString()),f(!0);try{const p=await fetch(`${T}?${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`}}),e=await p.json();if(!p.ok){d.error(e.message,{position:"top-center"});return}S(((h=e==null?void 0:e.data)==null?void 0:h.result)||[]),y(((l=e==null?void 0:e.data)==null?void 0:l.count)||0)}catch{d.error("An error occurred while fetching data")}finally{f(!1)}};return n.useEffect(()=>{u()},[o,a,s,r,i,c]),{companies:m,loading:g,totalCount:_,fetchCompanies:u}};export{$ as u};
