import{i as N,r as t,e as k,j as e,R as y,w as v}from"./index-CA1FVl9h.js";import{O as w}from"./OrderTableFilter-EcaCF9bX.js";import{O as P}from"./enums-B2C1EGNG.js";import{O as A}from"./OrderTable-BCUgkEeI.js";import"./MultiSelect-DKavzjij.js";import"./orderStatusClasses-HfHBGnti.js";import"./useGenerateInvoice-o--FESYM.js";import"./sweetalert2.esm.all-B0Dix5B2.js";import"./AssignWorkshopModal-DT3TmEpy.js";import"./useGetWorkshops-DLotDkSx.js";const H=()=>{const d=N(),[r,o]=t.useState(!1),{hasPermission:u}=k(),[m,p]=t.useState([]),[i,x]=t.useState(null),[s,f]=t.useState(null),[S,n]=t.useState(null),[c,h]=t.useState({paymentStatusFilter:[],orderStatusFilter:[],paymentTypeFilter:void 0,customerFilter:[],pickupBoyFilter:[],deliveryBoyFilter:[],branchFilter:[]}),j=()=>{d("/order/add",{state:{prevUrl:location.pathname}})},b=a=>{h(a)},O=(a=>Object.entries(P).filter(([l])=>a.includes(l)).map(([l,F])=>({label:l,value:F})))(["Order Placed","Branch Assigned","Pickup Boy Assigned","Pickup Complete"]),g=()=>{console.log("selectedStatus : ",s),s&&n(s)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"container-fixed",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-5 pb-7.5",children:[e.jsx("div",{className:"flex flex-col justify-center gap-2",children:e.jsx("h1",{className:"text-xl font-semibold leading-none text-gray-900",children:"Pickup Orders"})}),u(3,"create")&&e.jsx("div",{className:"flex items-center gap-2.5",children:e.jsxs("button",{onClick:j,className:"btn btn-primary",children:[e.jsx("i",{className:"ki-filled ki-plus-squared"}),"Add Order"]})})]}),e.jsxs("div",{className:"flex flex-auto items-center justify-between gap-2.5 mb-4 shadow-none",children:[e.jsxs("button",{className:"btn btn-sm btn-primary shadow-none",onClick:()=>o(!r),children:["Filters",r?e.jsx(y,{size:23}):e.jsx(v,{color:"skyblue",size:23})]}),i&&e.jsx("button",{className:"btn btn-sm btn-outline btn-success",onClick:g,children:i})]})]}),e.jsx("div",{className:"container-fixed",children:e.jsx("div",{className:"grid gap-5 lg:gap-7.5",children:e.jsxs("div",{className:"card card-grid min-w-full",children:[r&&e.jsx(w,{filters:c,updateFilters:b,orderStatusOptions:O,showSearchInput:!1})," ",e.jsx(A,{filters:c,setSelectedOrderIds:p,selectedOrderIds:m,setNextStatus:x,selectedStatus:s,setSelectedStatus:f,nextStatus:i,trackingState:S,setTrackingState:n})]})})})]})};export{H as default};
