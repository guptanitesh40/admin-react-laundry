import{r as o,B as T,V as u}from"./index-D55dg6K9.js";const j=(a=1,n=10,r="",c,i)=>{const[v,d]=o.useState([]),[h,g]=o.useState(0),[m,p]=o.useState(!1),f=async()=>{var S,l;const y=localStorage.getItem("authToken"),t=new URLSearchParams;a&&t.append("page_number",a.toString()),n&&t.append("per_page",n.toString()),r&&t.append("search",r),c&&t.append("sort_by",c),i&&t.append("order",i),p(!0);try{const e=await fetch(`${T}/admin/services?${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`}});if(!e.ok){const E=await e.json();u.error(E.message,{position:"top-center"});return}const s=await e.json(),w=((S=s==null?void 0:s.data)==null?void 0:S.services)||[],k=((l=s==null?void 0:s.data)==null?void 0:l.count)||0;d(w),g(k)}catch(e){u.error((e==null?void 0:e.message)||"Network error: Failed to fetch.",{position:"top-center"})}finally{p(!1)}};return o.useEffect(()=>{f()},[a,n,r,c,i]),{services:v,totalServices:h,fetchServices:f,loading:m}};export{j as u};
