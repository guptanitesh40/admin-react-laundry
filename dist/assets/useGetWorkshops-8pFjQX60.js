import{r as s,_ as l}from"./index-DctR2NZY.js";const _="http://35.154.167.170:3000/workshops",T=(e=1,a=10,r="",n,p)=>{const[u,d]=s.useState(),[w,S]=s.useState(0),[y,c]=s.useState(!1),i=async()=>{var h,f;const W=localStorage.getItem("authToken"),o=new URLSearchParams;e&&o.append("page_number",e.toString()),a&&o.append("per_page",a.toString()),r&&o.append("search",r),n&&o.append("sortBy",n),p&&o.append("order",p),c(!0);try{const k=await fetch(`${_}?${o}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W}`}}),t=await k.json();if(!k.ok){l.error(t.message,{position:"top-center"}),c(!1);return}d(((h=t==null?void 0:t.data)==null?void 0:h.workshops)||[]),S((f=t==null?void 0:t.data)==null?void 0:f.count)}catch{l.error("Network error: Failed to fetch workshops.")}finally{c(!1)}};return s.useEffect(()=>{i()},[e,a,r,n,p]),{workshops:u,totalWorkshops:w,loading:y,fetchWorkshops:i}};export{T as u};
