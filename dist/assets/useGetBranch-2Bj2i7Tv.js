import{r as n,_ as u}from"./index-CrW1VcAo.js";const E="http://35.154.167.170:3000/branches",j=(o=1,s=10,r="",c,i)=>{const[B,d]=n.useState([]),[S,g]=n.useState(0),[y,h]=n.useState(!1),p=n.useCallback(async()=>{var l,f;const _=localStorage.getItem("authToken"),e=new URLSearchParams;o&&e.append("page_number",o.toString()),s&&e.append("per_page",s.toString()),r&&e.append("search",r),c&&e.append("sortBy",c),i&&e.append("order",i);const k=`${E}?${e}`;h(!0);try{const t=await fetch(k,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`}});if(!t.ok){const T=await t.json();u.error(T.message,{position:"top-center"});return}const a=await t.json(),m=((l=a==null?void 0:a.data)==null?void 0:l.result)||[],w=((f=a==null?void 0:a.data)==null?void 0:f.count)||0;d(m),g(w)}catch(t){u.error((t==null?void 0:t.message)||"Network error: Failed to fetch.",{position:"top-center"})}finally{h(!1)}},[o,s,i,c,r]);return n.useEffect(()=>{p()},[p]),{branches:B,totalBranches:S,loading:y,fetchBranches:p}};export{j as u};
