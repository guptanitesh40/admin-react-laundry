import{r as o,_ as f}from"./index-D8mCTybp.js";const T="http://35.154.167.170:3000/admin/services",j=(a=1,n=10,r="",c,i)=>{const[u,v]=o.useState([]),[d,h]=o.useState(0),[_,p]=o.useState(!1),g=o.useCallback(async()=>{var l,S;const m=localStorage.getItem("authToken"),t=new URLSearchParams;a&&t.append("page_number",a.toString()),n&&t.append("per_page",n.toString()),r&&t.append("search",r),c&&t.append("sort_by",c),i&&t.append("order",i);const y=`${T}?${t}`;p(!0);try{const e=await fetch(y,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`}});if(!e.ok){const E=await e.json();f.error(E.message,{position:"top-center"});return}const s=await e.json(),k=((l=s==null?void 0:s.data)==null?void 0:l.services)||[],w=((S=s==null?void 0:s.data)==null?void 0:S.count)||0;v(k),h(w)}catch(e){f.error((e==null?void 0:e.message)||"Network error: Failed to fetch.",{position:"top-center"})}finally{p(!1)}},[a,n,i,c,r]);return{services:u,totalServices:d,fetchServices:g,loading:_}};export{j as u};
