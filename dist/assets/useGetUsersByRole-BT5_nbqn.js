import{r as a,_ as n}from"./index-D8mCTybp.js";const d=()=>{const[c,t]=a.useState(!1),[i,l]=a.useState(null);return{users:i,loading:c,fetchUsersByRole:async(p,o="")=>{const u=localStorage.getItem("authToken"),f=`http://35.154.167.170:3000/user/by-role?role_id=${p}`,r=new URLSearchParams;o&&r.append("search",o),t(!0);try{const e=await fetch(`${f}&${r}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`}});if(!e.ok){const h=await e.json();n.error(h.message,{position:"top-center"}),t(!1);return}const s=await e.json();l(s==null?void 0:s.data)}catch(e){n.error((e==null?void 0:e.message)||"Network error: Failed to fetch.",{position:"top-center"})}finally{t(!1)}}}};export{d as u};
