import{r as t,w as s}from"./index-CrW1VcAo.js";const l="http://35.154.167.170:3000/prices",h=()=>{const[n,a]=t.useState([]),[c,i]=t.useState(!0),r=t.useCallback(async()=>{const p=localStorage.getItem("authToken");try{const e=await fetch(l,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`}});if(!e.ok){const u=await e.json();s.error(u.message,{position:"top-center"});return}const o=await e.json();a((o==null?void 0:o.data)||[])}catch(e){e.name==="TypeError"&&e.message.includes("Failed to fetch")?s.error("Network error: Failed to fetch.",{position:"top-center"}):s.error("An unexpected error occurred.",{position:"top-center"})}finally{i(!1)}},[]);return t.useEffect(()=>{r()},[r]),{prices:n,loading:c,fetchPrices:r}};export{h as u};
