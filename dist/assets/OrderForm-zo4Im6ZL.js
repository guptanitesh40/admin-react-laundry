import{r as x,_ as g,f as q,n as S,g as Y,M as je,j as e,V as H,q as Ne,p as ve,m as we,c as ke}from"./index-aVJcLekq.js";import{u as Se}from"./useGetCoupons-QDAw8oZI.js";import{u as Ce}from"./useGetPrice-CKz8W0ls.js";import{u as De}from"./useGetSingleOrder-Bp-tHfF9.js";import{u as Te}from"./useGetUsersByRole-uq0CuGGX.js";const Pe=()=>{const[o,c]=x.useState([]),[y,b]=x.useState(!1);return{products:o,loading:y,fetchProductsOnId:async i=>{const m=localStorage.getItem("authToken"),u=`http://35.154.167.170:3000/category/${i}/product`;b(!0);try{const n=await fetch(u,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`}});if(!n.ok){const d=await n.json();g.error(d.message,{position:"top-center"});return}const l=await n.json(),j=(l==null?void 0:l.data)||[];c(j)}catch(n){g.error((n==null?void 0:n.message)||"Network error: Failed to fetch.",{position:"top-center"})}finally{b(!1)}}}},Ae=()=>{const[o,c]=x.useState([]),[y,b]=x.useState(!1);return{services:o,loading:y,fetchServicesOnId:async(i,m)=>{const u=localStorage.getItem("authToken"),n=`http://35.154.167.170:3000/category/${i}/product/${m}/service`;try{const l=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`}});if(!l.ok){const C=await l.json();g.error(C.message,{position:"top-center"});return}const j=await l.json(),d=(j==null?void 0:j.data)||[];c(d)}catch(l){g.error((l==null?void 0:l.message)||"Network error: Failed to fetch.",{position:"top-center"})}finally{b(!1)}}}},Oe="http://35.154.167.170:3000/admin/coupon/apply",$e=()=>{const[o,c]=x.useState(!1);return{applyCoupon:async(b,N,i)=>{const m=localStorage.getItem("authToken");c(!0);try{const u=await fetch(Oe,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({user_id:b,order_Total:N,coupon_Code:i})}),n=await u.json();return u.ok?n.data:(g.error(n.message,{position:"top-center"}),!1)}catch{g.error("Unable to apply coupon code!")}finally{c(!1)}},loading:o}},Fe="http://35.154.167.170:3000",Ee=`${Fe}/admin/orders`,Ie=()=>{const[o,c]=x.useState(!1);return{addOrder:async b=>{const N=localStorage.getItem("authToken");c(!0);try{const i=await fetch(Ee,{method:"POST",headers:{Authorization:`Bearer ${N}`,"Content-Type":"application/json"},body:JSON.stringify(b)});if(!i.ok){const u=await i.json();return g.error(u.message,{position:"top-center"}),!1}const m=await i.json();return g.success(m.message,{position:"top-center"}),!0}catch(i){return g.error((i==null?void 0:i.message)||"Network error: Failed to fetch.",{position:"top-center"}),!1}finally{c(!1)}},loading:o}},qe=()=>{const[o,c]=x.useState(!1);return{updateOrder:async(b,N)=>{const i=localStorage.getItem("authToken"),m=`http://35.154.167.170:3000/admin/orders/${b}`;c(!0);try{const u=await fetch(m,{method:"PUT",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(N)});if(u.ok){const l=await u.json();return g.success(l.message,{position:"top-center"}),!0}const n=await u.json();return g.error(n.message,{position:"top-center"}),!1}catch(u){return g.error((u==null?void 0:u.message)||"Network error: Failed to fetch.",{position:"top-center"}),!1}finally{c(!1)}},loading:o}},Re=()=>{const[o,c]=x.useState([]),[y,b]=x.useState(!1);return{address:o,loading:y,fetchAddress:async i=>{var n;const m=localStorage.getItem("authToken"),u=`http://35.154.167.170:3000/address/${i}/user`;try{const l=await fetch(u,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`}});if(!l.ok){const C=await l.json();g.error(C.message,{position:"top-center"});return}const j=await l.json(),d=((n=j==null?void 0:j.data)==null?void 0:n.result)||[];c(d)}catch(l){g.error((l==null?void 0:l.message)||"Network error: Failed to fetch.",{position:"top-center"})}finally{b(!1)}}}},Ue=q().shape({category_id:S().nullable().required("Please select a category").test("required","Please select a category",o=>!!o),product_id:S().nullable().required("Please select a product").test("required","Please select a product",o=>!!o),service_id:S().nullable().required("Please select a service").test("required","Please select a service",o=>!!o),price:S().nullable().when(["category_id","product_id","service_id"],([o,c,y],b)=>o&&c&&y?b.required("Price is not available for the combination, please add a price"):b.nullable())}),Le=q().shape({username:Y().required("Please enter username"),express_delivery_charges:S().typeError("Express delivery charges must be a number").min(0,"Express delivery charges must be a positive number"),shipping_charges:S().typeError("Shipping charge must be a number").min(0,"Shipping charge must be a positive number"),payment_type:S().required("Please choose payment type").test("required","Please choose order status",o=>!!o),payment_status:S().required("Please choose payment status").test("required","Please choose payment status",o=>!!o),paid_amount:S().typeError("Paid amount must be a number").min(0,"Paid amount must be a positive number"),items:je().of(Ue)}),Ge=()=>{const[o,c]=x.useState(!1);return{addAddress:async b=>{const N="http://35.154.167.170:3000/address/admin/",i=localStorage.getItem("authToken");c(!0);try{const m=await fetch(N,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify(b)});if(!m.ok){const n=await m.json();return g.error(n.message,{position:"top-center"}),!1}const u=await m.json();return g.success(u.message,{position:"top-center"}),!0}catch(m){return g.error((m==null?void 0:m.message)||"Error adding banner",{position:"top-center"}),!1}finally{c(!1)}},loading:o}},Be=q().shape({pincode:Y().required("Pin Code is required").matches(/^[0-9]{6}$/,"Pincode must be 6 digit")}),ze=({isOpen:o,onClose:c,userId:y,setIsSubmit:b})=>{const{addAddress:N,loading:i}=Ge(),[m,u]=x.useState(""),[n,l]=x.useState({building_number:"",area:"",landmark:"",pincode:"",city:"",state:"",country:"",user_id:null});x.useEffect(()=>{o?y&&l(d=>({...d,user_id:y})):(l({building_number:"",area:"",landmark:"",pincode:"",city:"",state:"",country:"",user_id:null}),u(""))},[o,y]);const j=async d=>{d.preventDefault();try{await Be.validate(n,{abortEarly:!1}),y&&await N(n),b(!0),c()}catch(C){C instanceof H&&u(C.errors[0])}};if(o)return e.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[e.jsx("div",{className:"fixed inset-0 bg-black opacity-50",onClick:c}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-lg z-10 relative",children:[e.jsx("button",{className:"btn btn-sm btn-icon btn-light btn-outline absolute top-0 right-0 mr-5 mt-5 lg:mr-5 shadow-default",onClick:c,children:e.jsx("i",{className:"ki-filled ki-cross"})}),e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Add New Address"}),e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"building_number",className:"block text-gray-700 font-semibold",children:"Building Number"}),e.jsx("input",{type:"text",id:"building_number",name:"building_number",value:n.building_number,onChange:d=>l({...n,building_number:d.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"area",className:"block text-gray-700 font-semibold",children:"Area"}),e.jsx("input",{type:"text",id:"area",name:"area",value:n.area,onChange:d=>l({...n,area:d.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"landmark",className:"block text-gray-700 font-semibold",children:"Landmark"}),e.jsx("input",{type:"text",id:"landmark",name:"landmark",value:n.landmark,onChange:d=>l({...n,landmark:d.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"pincode",className:"block text-gray-700 font-semibold",children:"Pin code"}),e.jsx("input",{type:"text",id:"pincode",name:"pincode",value:n.pincode,onChange:d=>l({...n,pincode:d.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"text-red-500 text-sm",children:m||"Â "})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"city",className:"block text-gray-700 font-semibold",children:"City"}),e.jsx("input",{type:"text",id:"city",name:"city",value:n.city,onChange:d=>l({...n,city:d.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"state",className:"block text-gray-700 font-semibold",children:"State"}),e.jsx("input",{type:"text",id:"state",name:"state",value:n.state,onChange:d=>l({...n,state:d.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"country",className:"block text-gray-700 font-semibold",children:"Country"}),e.jsx("input",{type:"text",id:"country",name:"country",value:n.country,onChange:d=>l({...n,country:d.target.value}),className:"w-full input border border-gray-300 rounded-md p-2"})]})]}),e.jsxs("div",{className:"flex justify-end mt-4",children:[e.jsx("button",{type:"button",onClick:c,className:"btn btn-light mr-2",disabled:i,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:i,className:`btn btn-primary ${i?"opacity-50 cursor-not-allowed":""}`,children:i?"Submitting...":"Submit"})]})]})]})]})},He=()=>{const{prices:o,fetchPrices:c}=Ce(),{categories:y,fetchCategories:b}=Ne(),{products:N,fetchProductsOnId:i}=Pe(),{services:m,fetchServicesOnId:u}=Ae(),[n,l]=x.useState(""),[j,d]=x.useState(!0),{id:C}=ve(),{updateOrder:K,loading:W}=qe(),{addOrder:X,loading:Z}=Ie(),R=Number(C),ee=1e3,te=1,[se,U]=x.useState(!1),[L,G]=x.useState(!1),{users:F,fetchUsersByRole:ae}=Te(),{coupons:O,fetchCoupons:B}=Se(te,ee),{order:h}=De(R),{address:re,fetchAddress:z}=Re(),{applyCoupon:ne}=$e(),E=we(),[r,w]=x.useState({coupon_code:"",coupon_discount:null,express_delivery_charges:null,shipping_charges:null,payment_type:null,order_status:1,payment_status:null,sub_total:0,paid_amount:null,transaction_id:"",address_id:null,username:"",user_id:null,items:[{category_id:null,product_id:null,service_id:null,description:null,price:null,quantity:1,item_Total:null,showDescription:!1}],total:0}),[le,oe]=x.useState({coupon_code:"",coupon_discount:null,express_delivery_charges:null,shipping_charges:null,payment_type:null,order_status:1,payment_status:null,sub_total:0,paid_amount:null,transaction_id:"",address_id:null,username:"",user_id:null,items:[{category_id:null,product_id:null,service_id:null,description:null,price:null,quantity:1,item_Total:null,showDescription:!1}],total:0}),[v,ce]=x.useState({});x.useEffect(()=>{const t=async()=>{r.user_id&&await z(r.user_id),L&&(await z(r.user_id),G(!1))};B(),c(),t(),b()},[b,c,B,r.user_id,L]),x.useEffect(()=>{(async()=>{n&&j&&await ae(5,n)})()},[n,j]),x.useEffect(()=>{if(h){const t=`${h.user.first_name} ${h.user.last_name}`;l(t),d(!1);const a={coupon_code:h.coupon_code||"",coupon_discount:h.coupon_discount||null,express_delivery_charges:h.express_delivery_charges||null,shipping_charges:h.shipping_charges||null,payment_type:h.payment_type||null,order_status:h.order_status||null,payment_status:h.payment_status||null,sub_total:h.sub_total||0,paid_amount:h.paid_amount||null,transaction_id:h.transaction_id||"",address_id:h.address_id,username:t,user_id:h.user_id||null,items:h.items.map(s=>{var T,P;const p=s.category.category_id,f=((T=s.product)==null?void 0:T.product_id)||null,_=((P=s.service)==null?void 0:P.service_id)||null;return p&&i(p),f&&p&&u(p,f),{category_id:p,product_id:f,service_id:_,description:s.description||null,price:s.price,quantity:s.quantity,item_Total:s.price*s.quantity,showDescription:!!s.description}}),total:(h.sub_total||0)+(h.express_delivery_charges||0)+(h.shipping_charges||0)};w(a),oe(a)}},[h]);const ie=async t=>{t.preventDefault();try{const a=r.items.map(_=>({category_id:Number(_.category_id),product_id:Number(_.product_id),service_id:Number(_.service_id),description:_.description,price:Number(_.price),quantity:Number(_.quantity)})),s={...r,address_id:Number(r.address_id),coupon_discount:Number(r.coupon_discount),shipping_charges:Number(r.shipping_charges),paid_amount:Number(r.paid_amount),express_delivery_charges:Number(r.express_delivery_charges),payment_type:Number(r.payment_type),payment_status:Number(r.payment_status),order_status:Number(r.order_status),items:a};if(await Le.validate(s,{abortEarly:!1}),!Object.keys(r).some(_=>r[_]!==le[_])){E("/orders");return}let f;h?f=await K(R,s):f=await X(s),f&&E("/orders")}catch(a){if(a instanceof H){const s={};a.inner.forEach(p=>{s[p.path||""]=p.message}),ce(s)}else g.error("Failed to submit the form. Please try again.")}},de=t=>{l(t.target.value),d(!0)},ue=t=>{const a=`${t.first_name} ${t.last_name}`;l(a),d(!1),w({...r,username:a,user_id:t.user_id})},me=()=>{E("/orders")},pe=()=>{w(t=>({...t,items:[...t.items,{category_id:null,product_id:null,service_id:null,description:null,price:null,quantity:1,item_Total:null,showDescription:!1}]}))},he=t=>{w(a=>{const s=a.items.filter((T,P)=>P!==t),p={...a,items:s,coupon_code:"",coupon_discount:0},f=I(p),_=f+Number(r.express_delivery_charges||0)+Number(r.shipping_charges||0);return{...p,sub_total:f,total:_}})},D=async(t,a,s)=>{w(p=>{const f=p.items.map((J,fe)=>{if(fe===t){const k={...J,[a]:s};a==="showDescription"&&(k.showDescription=s);const A=Number(k.category_id),$=Number(k.product_id),V=Number(k.service_id),_e=Number(k.quantity)||1;if((a==="category_id"||a==="product_id")&&(A&&i(A),$&&A&&u(A,$)),A&&$&&V){const Q=xe(A,$,V);k.price=Q,k.item_Total=Q*_e}else k.price=null,k.item_Total=null;return k}return J}),_={...p,items:f,coupon_code:"",coupon_discount:0},T=I(_),P=T+Number(r.express_delivery_charges||0)+Number(r.shipping_charges||0);return{..._,sub_total:T,total:P}})},xe=(t,a,s)=>{const p=`${t}_${a}_${s}`;return o[p]||0},be=async t=>{const a=I(r),s=await ne(r.user_id,a,t),p=Number(s.finalTotal||0)+Number(r.express_delivery_charges||0)+Number(r.shipping_charges||0);s&&w(f=>({...f,coupon_code:t,coupon_discount:s.discountAmount,sub_total:s.finalTotal,total:p}))},I=t=>t.items.reduce((a,s)=>a+(s.item_Total||0),0),M=(t,a)=>{w(s=>{const p={...s,[t]:Number(a)},f=Number(p.sub_total||0)+Number(p.express_delivery_charges||0)+Number(p.shipping_charges||0);return{...p,total:f}})},ge=t=>{const a=t.target.value;w(s=>({...s,address_id:Number(a)}))},ye=t=>{t.preventDefault(),r.user_id?U(!0):g.error("Please select the user to add address")};return e.jsx("div",{className:"container-fixed",children:e.jsxs("div",{className:"card max-w-5xl mx-auto p-6 bg-white shadow-md",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:h?"Edit Order":"Add Order"}),e.jsxs("form",{onSubmit:ie,children:[e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"relative flex flex-col flex-[0_0_40%]",children:[e.jsx("label",{htmlFor:"username",className:"block text-gray-700 text-sm font-bold mb-2",children:"User Name"}),e.jsx("input",{type:"text",id:"username",value:n||"",onChange:de,className:"input border border-gray-300 rounded-md p-2 w-full mb-2",placeholder:"Search User..."}),F&&n&&j&&e.jsx("ul",{className:"absolute mt-20 bg-white z-10 border border-gray-300 rounded-md p-2 w-full text-sm",children:F.length>0?F.map(t=>e.jsxs("li",{className:"p-2 hover:bg-gray-100 cursor-pointer",onClick:()=>ue(t),children:[t.first_name," ",t.last_name," (",t.mobile_number,")"]},t.user_id)):e.jsx("li",{className:"p-2 text-gray-500",children:"No users found"})}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:v.username||"Â "})]}),e.jsxs("div",{className:"grow flex",children:[e.jsxs("div",{className:"grow flex flex-col",children:[e.jsx("label",{htmlFor:"address",className:"block text-gray-700 text-sm font-bold mb-2",children:"Address Details"}),e.jsxs("select",{id:"address",value:r.address_id??"",onChange:ge,className:"select border border-gray-300 rounded-md p-2 w-full text-sm",children:[e.jsx("option",{value:"",disabled:!0,children:"Select Address"}),re.map(t=>e.jsxs("option",{value:t.address_id,children:[t.building_number,", ",t.area,", ",t.landmark,","," ",t.city,", ",t.state,",",t.country,", ",t.pincode]},t.address_id))]})]}),e.jsx("div",{className:"flex flex-col self-center",children:e.jsx("button",{className:"btn btn-primary w-20 ml-2",onClick:ye,children:"Add address"})})]})]}),e.jsx("div",{children:e.jsx("h1",{className:"text-xl font-semibold leading-none text-gray-900 mt-10 mb-5",children:"Item"})}),r.items.map((t,a)=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-start md:flex-row md:items-end md:space-x-1",children:[e.jsxs("div",{className:"flex flex-col flex-1 mb-4 md:mb-0",children:[e.jsx("label",{htmlFor:"category",className:"block text-gray-700 text-sm font-bold mb-2",children:"Category"}),e.jsxs("select",{id:"category",value:t.category_id??"",onChange:s=>D(a,"category_id",s.target.value),className:"select border border-gray-300 rounded-md p-2 w-full text-sm",children:[e.jsx("option",{value:"",disabled:!0,children:"Select Category"}),y.map(s=>e.jsx("option",{value:s.category_id,children:s.name},s.category_id))]}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:v[`items[${a}].category_id`]||"Â "})]}),e.jsxs("div",{className:"flex flex-col flex-1 mb-4 md:mb-0",children:[e.jsx("label",{htmlFor:"product",className:"block text-gray-700 text-sm font-bold mb-2",children:"Product"}),e.jsxs("select",{id:"product",value:t.product_id??"",onChange:s=>D(a,"product_id",s.target.value),className:"select border border-gray-300 rounded-md p-2 w-full text-sm",children:[e.jsx("option",{value:"",disabled:!0,children:"Select Product"}),N.map(s=>e.jsx("option",{value:s.product_product_id,children:s.product_name},s.product_product_id))]}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:v[`items[${a}].product_id`]||"Â "})]}),e.jsxs("div",{className:"flex flex-col flex-1 mb-4 md:mb-0",children:[e.jsx("label",{htmlFor:"service",className:"block text-gray-700 text-sm font-bold mb-2",children:"Service"}),e.jsxs("select",{id:"service",value:t.service_id??"",onChange:s=>D(a,"service_id",s.target.value),className:"select border border-gray-300 rounded-md p-2 w-full text-sm",children:[e.jsx("option",{value:"",disabled:!0,children:"Select Service"}),m==null?void 0:m.map(s=>e.jsx("option",{value:s==null?void 0:s.service_service_id,children:s.service_name},s==null?void 0:s.service_service_id))]}),e.jsxs("p",{className:"w-full text-red-500 text-sm",children:[v[`items[${a}].service_id`]||"Â ",e.jsx("br",{})]}),e.jsxs("p",{className:"w-full text-red-500 text-sm",children:["Â ",e.jsx("br",{})]})]}),e.jsxs("div",{className:"flex flex-col flex-1",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Price"}),e.jsx("input",{type:"text",value:t.price||"",onChange:s=>D(a,"price",s.target.value),className:"input border border-gray-300 rounded-md p-2 w-full",readOnly:!0}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:v[`items[${a}].price`]||"Â "})]}),e.jsxs("div",{className:"flex flex-col flex-1 mb-4 md:mb-0",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Quantity"}),e.jsx("input",{type:"text",value:t.quantity??1,onChange:s=>D(a,"quantity",s.target.value),className:"input border border-gray-300 rounded-md p-2 w-full"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:"Â "})]}),e.jsxs("div",{className:"flex flex-col flex-1 mb-4 md:mb-0",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Item total"}),e.jsx("input",{type:"text",value:t.item_Total??"",onChange:s=>D(a,"item_Total",s.target.value),className:"input border border-gray-300 rounded-md p-2",min:"0",step:"0.01",readOnly:!0}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:"Â "})]}),e.jsxs("div",{className:"flex flex-col md:mb-0",children:[e.jsx("label",{htmlFor:"description_checkbox",className:"block text-gray-700 text-sm font-bold mb-2",children:"Description"}),e.jsx("input",{className:"checkbox checkbox-lg m-auto",id:"description_checkbox","data-datatable-check":"true",type:"checkbox",checked:t.showDescription,onChange:s=>D(a,"showDescription",s.target.checked)}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:"Â "})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{type:"button",className:`p-2 mt-8 rounded-full ${r.items.length>1?"bg-red-100 hover:bg-red-200":"bg-gray-200 cursor-not-allowed"}`,onClick:()=>he(a),disabled:r.items.length===1,children:e.jsx(ke,{className:`${r.items.length>1?"text-red-500":"text-gray-400"}`})})})]},a),t.showDescription&&e.jsx("div",{children:e.jsxs("div",{className:"flex flex-col w-80 mb-8",children:[e.jsx("label",{htmlFor:"description",className:"block text-gray-700 text-sm font-bold mb-2",children:"Description"}),e.jsx("textarea",{id:"description",value:t.description||"",onChange:s=>D(a,"description",s.target.value),className:"input border border-gray-300 rounded-md p-2 w-full"})]})})]})),e.jsx("button",{type:"button",onClick:pe,className:"btn btn-secondary mb-6",children:"Add Item"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"mb-2 font-semibold",htmlFor:"coupon_code",children:"Coupon Code"}),e.jsxs("select",{id:"coupon_code",className:"select border border-gray-300 rounded-md p-2 w-full text-sm",value:r.coupon_code||"",onChange:t=>{const a=O.find(s=>s.code===t.target.value);be(a==null?void 0:a.code)},children:[e.jsx("option",{value:"",disabled:!0,children:"Select Coupon Code"}),O&&O.length>0?O.map(t=>e.jsx("option",{value:t.code,children:t.code},t.coupon_id)):e.jsx("option",{children:"No Coupons available"})]}),e.jsx("p",{className:"text-red-500 text-sm",children:v.coupon_code||"Â "})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Coupon Discount"}),e.jsx("input",{type:"text",value:r.coupon_discount||"",readOnly:!0,className:"input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:v.coupon_discount||"Â "})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"express_delivery_charges",className:"block text-gray-700 text-sm font-bold mb-2",children:"Express Delivery Charges"}),e.jsx("input",{type:"text",id:"express_delivery_charges",min:"0",value:r.express_delivery_charges||"",onChange:t=>M("express_delivery_charges",t.target.value),className:"input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:v.express_delivery_charges||"Â "})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"shipping_charges",className:"block text-gray-700 text-sm font-bold mb-2",children:"Shipping Charges"}),e.jsx("input",{type:"text",id:"shipping_charges",min:"0",value:r.shipping_charges||"",onChange:t=>M("shipping_charges",t.target.value),className:"input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:v.shipping_charges||"Â "})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Sub Total"}),e.jsx("input",{type:"text",value:r.sub_total||"",readOnly:!0,className:"input border border-gray-300 rounded-md p-2"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:v.sub_total||"Â "})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Total"}),e.jsx("input",{type:"text",value:r.total||"",readOnly:!0,className:"input border border-gray-300 rounded-md p-2"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"paid_amount",className:"block text-gray-700 text-sm font-bold mb-2",children:"Paid amount"}),e.jsx("input",{type:"text",id:"paid_amount",value:r.paid_amount||"",onChange:t=>w({...r,paid_amount:Number(t.target.value)}),className:"input border border-gray-300 rounded-md p-2",min:"0",step:"0.01"}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:v.paid_amount||"Â "})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"payment_method",className:"block text-gray-700 text-sm font-bold mb-2",children:"Payment Method"}),e.jsxs("select",{className:"select border border-gray-300 rounded-md p-2 w-full text-sm",id:"payment_method",value:r.payment_type??"",onChange:t=>w({...r,payment_type:Number(t.target.value)}),children:[e.jsx("option",{value:"",disabled:!0,children:"Select Payment Type"}),e.jsx("option",{value:1,children:"Cash on Delivery"}),e.jsx("option",{value:2,children:"Online Payment"})]}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:v.payment_type||"Â "})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"payment_status",className:"block text-gray-700 text-sm font-bold mb-2",children:"Payment Status"}),e.jsxs("select",{className:"select border border-gray-300 rounded-md p-2 w-full text-sm",id:"payment_status",value:r.payment_status??"",onChange:t=>w({...r,payment_status:Number(t.target.value)}),children:[e.jsx("option",{value:"",disabled:!0,children:"Select Payment Status"}),e.jsx("option",{value:1,children:"Pending"}),e.jsx("option",{value:2,children:"Received"}),e.jsx("option",{value:3,children:"Partial Received"})]}),e.jsx("p",{className:"w-full text-red-500 text-sm",children:v.payment_status||"Â "})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"transaction_id",className:"block text-gray-700 text-sm font-bold mb-2",children:"Transaction ID"}),e.jsx("input",{type:"text",id:"transaction_id",value:r.transaction_id||"",onChange:t=>w({...r,transaction_id:t.target.value}),className:"input border border-gray-300 rounded-md p-2"})]})]}),e.jsxs("div",{className:"flex justify-start mt-6",children:[e.jsx("button",{type:"submit",className:"btn btn-primary mr-4",disabled:Z||W,children:h?"Update Order":"Add Order"}),e.jsx("button",{type:"button",onClick:me,className:"btn btn-secondary",children:"Cancel"})]})]}),e.jsx(ze,{isOpen:se,setIsSubmit:G,onClose:()=>U(!1),userId:r.user_id})]})})};export{He as default};
